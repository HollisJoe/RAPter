<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>globOpt: matlab/read_ply.m Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">globOpt
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9fdb8a371dd68fb9dbc5c0c04c0e85eb.html">matlab</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">read_ply.m</div>  </div>
</div><!--header-->
<div class="contents">
<a href="read__ply_8m.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="read__ply_8m.html#acc928556d3638a1942e1db973c8f6326">    1</a></span>&#160;<span class="keyword">function</span> [vertex,face] = read_ply(filename)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;% read_ply - read data from PLY file.</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;%</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;%   [<a class="code" href="read__ply_8m.html#aeaacd144d6d23e8f1de90c08544d00f3">vertex</a>,<a class="code" href="read__ply_8m.html#abefeac42acb2cd277c8f6484c742e332">face</a>] = read_ply(filename);</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;%</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;%   <span class="stringliteral">&#39;vertex&#39;</span> is <a class="code" href="lp_8m.html#afe54f751d7a6a63f6f9481e00bd0f84e">a</a> <span class="stringliteral">&#39;nb.vert x 3&#39;</span> array specifying the position of the vertices.</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;%   <span class="stringliteral">&#39;face&#39;</span> is <a class="code" href="lp_8m.html#afe54f751d7a6a63f6f9481e00bd0f84e">a</a> <span class="stringliteral">&#39;nb.face x 3&#39;</span> array specifying the connectivity of the <a class="code" href="patch_cost_function_8m.html#a697fd8f03c777e1b503fd9c4c9e73b38">mesh</a>.</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;%</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;%   <a class="code" href="read__ply_8m.html#a4370195f1c9e5f2ad3cb5f305af4c9ac">IMPORTANT</a>: works only <span class="keywordflow">for</span> triangular meshes.</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;%</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;%   Copyright (<a class="code" href="read__ply_8m.html#ac04e968fceb2af0a5590d4aa4b44f7c9">c</a>) 2003 Gabriel Peyr√©</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a4370195f1c9e5f2ad3cb5f305af4c9ac">   14</a></span>&#160;[d,c] = plyread(filename);</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">   16</a></span>&#160;<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a> = <a class="code" href="fmincon__merged_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a>.face.vertex_indices;</div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a9d8e7ce856160426f38956bc38d7a2f3">   17</a></span>&#160;<a class="code" href="read__ply_8m.html#a9d8e7ce856160426f38956bc38d7a2f3">nf</a> = length(<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>);</div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="read__ply_8m.html#abefeac42acb2cd277c8f6484c742e332">   18</a></span>&#160;<a class="code" href="read__ply_8m.html#abefeac42acb2cd277c8f6484c742e332">face</a> = zeros(<a class="code" href="read__ply_8m.html#a9d8e7ce856160426f38956bc38d7a2f3">nf</a>,3);</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">   19</a></span>&#160;<span class="keywordflow">for</span> <a class="code" href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>=1:<a class="code" href="read__ply_8m.html#a9d8e7ce856160426f38956bc38d7a2f3">nf</a></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <a class="code" href="read__ply_8m.html#abefeac42acb2cd277c8f6484c742e332">face</a>(<a class="code" href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>,:) = <a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>{<a class="code" href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>}+1;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="read__ply_8m.html#aeaacd144d6d23e8f1de90c08544d00f3">   23</a></span>&#160;<a class="code" href="read__ply_8m.html#aeaacd144d6d23e8f1de90c08544d00f3">vertex</a> = [d.vertex.x, d.vertex.y, d.vertex.z];</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">function</span> [Elements,varargout] = plyread(Path,Str)</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;%PLYREAD   Read <a class="code" href="lp_8m.html#afe54f751d7a6a63f6f9481e00bd0f84e">a</a> PLY 3<a class="code" href="lp_8m.html#a79aaf9eb97ed1c7472790b6695b6ac1c">D</a> data file.</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;%   [DATA,COMMENTS] = PLYREAD(FILENAME) reads <a class="code" href="lp_8m.html#afe54f751d7a6a63f6f9481e00bd0f84e">a</a> version 1.0 PLY file</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;%   FILENAME and returns <a class="code" href="lp_8m.html#afe54f751d7a6a63f6f9481e00bd0f84e">a</a> structure DATA.  The fields in this structure</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;%   are defined by the PLY <a class="code" href="read__ply_8m.html#a2138eb5315d7aa5ed6dea6809f7854f2">header</a>; each element type is <a class="code" href="lp_8m.html#afe54f751d7a6a63f6f9481e00bd0f84e">a</a> field and each</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a1425967ad549bbd542754a17a8f851f4">   35</a></span>&#160;%   element property is <a class="code" href="lp_8m.html#afe54f751d7a6a63f6f9481e00bd0f84e">a</a> subfield.  If the file contains any <a class="code" href="read__ply_8m.html#a1425967ad549bbd542754a17a8f851f4">comments</a>,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;%   they are returned in <a class="code" href="lp_8m.html#afe54f751d7a6a63f6f9481e00bd0f84e">a</a> cell <span class="keywordtype">string</span> array <a class="code" href="read__ply_8m.html#aa2170d21e4b4aebbc0b3d70cb06764fb">COMMENTS</a>.</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;%</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a21c8e1200cc5f6fb1c566a0e2a1c6787">   38</a></span>&#160;%   [TRI,PTS] = PLYREAD(FILENAME,&#39;tri&#39;) or</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;%   [TRI,PTS,DATA,<a class="code" href="read__ply_8m.html#aa2170d21e4b4aebbc0b3d70cb06764fb">COMMENTS</a>] = PLYREAD(FILENAME,&#39;tri&#39;) converts <a class="code" href="read__ply_8m.html#aeaacd144d6d23e8f1de90c08544d00f3">vertex</a></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;%   and <a class="code" href="read__ply_8m.html#abefeac42acb2cd277c8f6484c742e332">face</a> data into triangular connectivity and <a class="code" href="read__ply_8m.html#aeaacd144d6d23e8f1de90c08544d00f3">vertex</a> arrays.  The</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;%   <a class="code" href="patch_cost_function_8m.html#a697fd8f03c777e1b503fd9c4c9e73b38">mesh</a> can then be displayed using the TRISURF command.</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;%</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;%   Note: This <a class="code" href="read__ply_8m.html#acc928556d3638a1942e1db973c8f6326">function</a> is slow for <a class="code" href="mix__coeffs_8m.html#a0ca1340e717d6af260120fd623ac197e">large</a> <a class="code" href="patch_cost_function_8m.html#a697fd8f03c777e1b503fd9c4c9e73b38">mesh</a> files (+50K faces),</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;%   especially when reading data with list type properties.</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;%</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;%   <a class="code" href="read__ply_8m.html#a21c8e1200cc5f6fb1c566a0e2a1c6787">Example</a>:</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="read__ply_8m.html#af6a86f0b9935fa5b85af987fd825bf25">   47</a></span>&#160;%   [Tri,<a class="code" href="read__ply_8m.html#af6a86f0b9935fa5b85af987fd825bf25">Pts</a>] = PLYREAD(&#39;cow.ply&#39;,&#39;tri&#39;);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;%   <a class="code" href="read__ply_8m.html#af340ef0bf3aaef588c1bbea259f33cfd">trisurf</a>(Tri,<a class="code" href="read__ply_8m.html#af6a86f0b9935fa5b85af987fd825bf25">Pts</a>(:,1),Pts(:,2),Pts(:,3)); </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="read__ply_8m.html#afeaa7ecdd726aa1950ba61dc659eb561">   49</a></span>&#160;%   <a class="code" href="read__ply_8m.html#a797333cf5a0813b58977150b073cb0ea">colormap</a>(gray); axis <a class="code" href="read__ply_8m.html#afeaa7ecdd726aa1950ba61dc659eb561">equal</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;%</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;%   See <a class="code" href="read__ply_8m.html#a37f3d16d17eb372d40e4d933522a631b">also</a>: PLYWRITE</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;% Pascal Getreuer 2004</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="read__ply_8m.html#aa2abfbc286fa7e2ce2c16b9585570027">   55</a></span>&#160;[<a class="code" href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">fid</a>,<a class="code" href="read__ply_8m.html#aa2abfbc286fa7e2ce2c16b9585570027">Msg</a>] = fopen(Path,&#39;rt&#39;);   % open file in read <a class="code" href="globfit_8m.html#af575f17e6be3f269b86b041a60560dbf">text</a> mode</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">   57</a></span>&#160;<a class="code" href="globfit_8m.html#aff09b08430658e07eb738015822d1a88">if</a> <a class="code" href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">fid</a> == -1, <a class="code" href="read__ply_8m.html#a68c387212e702af4b5d0d56e4c026e5e">error</a>(<a class="code" href="read__ply_8m.html#aa2abfbc286fa7e2ce2c16b9585570027">Msg</a>); <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">   59</a></span>&#160;<a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a> = fscanf(fid,&#39;%s&#39;,1);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<a class="code" href="globfit_8m.html#aff09b08430658e07eb738015822d1a88">if</a> ~strcmp(<a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a>,&#39;ply&#39;)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   <a class="code" href="read__ply_8m.html#a585a03bab4c1f43e8f85e685294e1e6f">fclose</a>(fid);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <a class="code" href="read__ply_8m.html#a68c387212e702af4b5d0d56e4c026e5e">error</a>(&#39;Not <a class="code" href="lp_8m.html#afe54f751d7a6a63f6f9481e00bd0f84e">a</a> PLY file.&#39;); </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;%%% read header %%%</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="read__ply_8m.html#af15128ffc3bac3d8b6cff4e9723b321e">   68</a></span>&#160;<a class="code" href="read__ply_8m.html#af15128ffc3bac3d8b6cff4e9723b321e">Position</a> = ftell(fid);</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a84c649d0d2f62695af4cb7bb99bd14aa">   69</a></span>&#160;<a class="code" href="read__ply_8m.html#a84c649d0d2f62695af4cb7bb99bd14aa">Format</a> = &#39;&#39;;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a98341e4ebaa6d5c8c922bed72feafccd">   70</a></span>&#160;<a class="code" href="read__ply_8m.html#a98341e4ebaa6d5c8c922bed72feafccd">NumComments</a> = 0;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a64e051714f787e6fa5d77cabc7e9c410">   71</a></span>&#160;<a class="code" href="read__ply_8m.html#a64e051714f787e6fa5d77cabc7e9c410">Comments</a> = {};              % <span class="keywordflow">for</span> storing any file <a class="code" href="read__ply_8m.html#a1425967ad549bbd542754a17a8f851f4">comments</a></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a6bf9e150b9854564aee61a85d7542e6c">   72</a></span>&#160;<a class="code" href="read__ply_8m.html#a6bf9e150b9854564aee61a85d7542e6c">NumElements</a> = 0;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a91333d2427d184919b71feb2718bf713">   73</a></span>&#160;<a class="code" href="read__ply_8m.html#a91333d2427d184919b71feb2718bf713">NumProperties</a> = 0;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">   74</a></span>&#160;<a class="code" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a> = [];              % structure <span class="keywordflow">for</span> holding the element data</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a387fc36411b1a33c2a2c8037607cdb10">   75</a></span>&#160;<a class="code" href="read__ply_8m.html#a387fc36411b1a33c2a2c8037607cdb10">ElementCount</a> = [];      % number of each type of element in file</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a985dea6af2b3206d8b34b41942498137">   76</a></span>&#160;<a class="code" href="read__ply_8m.html#a985dea6af2b3206d8b34b41942498137">PropertyTypes</a> = [];     % corresponding structure recording <span class="keyword">property</span> types</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a1dad181f597d6284e2359538ba51259f">   77</a></span>&#160;<a class="code" href="read__ply_8m.html#a1dad181f597d6284e2359538ba51259f">ElementNames</a> = {};      % list of element names in the order they are stored in the file</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a3f58d2655395e5a6fa94539622b7911d">   78</a></span>&#160;<a class="code" href="read__ply_8m.html#a3f58d2655395e5a6fa94539622b7911d">PropertyNames</a> = [];     % structure of lists of <span class="keyword">property</span> names</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keywordflow">while</span> 1</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   <a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a> = fgetl(<a class="code" href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">fid</a>);                                % read one <a class="code" href="get__line_8m.html#a4fa05b1f00fcde100685cc887554b93b">line</a> from file</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="read__ply_8m.html#ae37127159ccb6dbcf62cb7e9dc97eab5">   82</a></span>&#160;   <a class="code" href="read__ply_8m.html#ae37127159ccb6dbcf62cb7e9dc97eab5">BufRem</a> = <a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">   83</a></span>&#160;   <a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a> = {};</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="read__ply_8m.html#abab890090d13f82c09e94c8635cac65c">   84</a></span>&#160;   <a class="code" href="read__ply_8m.html#abab890090d13f82c09e94c8635cac65c">Count</a> = 0;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;   </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   <span class="keywordflow">while</span> <a class="code" href="read__ply_8m.html#ae85704114edf1de2b54d507fe6450b5b">~isempty</a>(<a class="code" href="read__ply_8m.html#ae37127159ccb6dbcf62cb7e9dc97eab5">BufRem</a>)                               % split <a class="code" href="get__line_8m.html#a4fa05b1f00fcde100685cc887554b93b">line</a> into <a class="code" href="globfit_8m.html#a748b7041400e7c1ab0f6667fff0271c7">tokens</a></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      [tmp,BufRem] = strtok(<a class="code" href="read__ply_8m.html#ae37127159ccb6dbcf62cb7e9dc97eab5">BufRem</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keywordflow">if</span> <a class="code" href="read__ply_8m.html#ae85704114edf1de2b54d507fe6450b5b">~isempty</a>(tmp)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;         <a class="code" href="read__ply_8m.html#abab890090d13f82c09e94c8635cac65c">Count</a> = <a class="code" href="read__ply_8m.html#abab890090d13f82c09e94c8635cac65c">Count</a> + 1;                         % count <a class="code" href="globfit_8m.html#a748b7041400e7c1ab0f6667fff0271c7">tokens</a></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;         <a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a>{Count} = tmp;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   <span class="keywordflow">if</span> <a class="code" href="read__ply_8m.html#abab890090d13f82c09e94c8635cac65c">Count</a>         % parse <a class="code" href="get__line_8m.html#a4fa05b1f00fcde100685cc887554b93b">line</a></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="keywordflow">switch</span> <a class="code" href="read__ply_8m.html#a05147d2000115e5e5e1b78c9e6049992">lower</a>(<a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a>{1})</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="keywordflow">case</span> <span class="stringliteral">&#39;format&#39;</span>     % read data format</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;         <span class="keywordflow">if</span> <a class="code" href="read__ply_8m.html#abab890090d13f82c09e94c8635cac65c">Count</a> &gt;= 2</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <a class="code" href="read__ply_8m.html#a84c649d0d2f62695af4cb7bb99bd14aa">Format</a> = <a class="code" href="read__ply_8m.html#a05147d2000115e5e5e1b78c9e6049992">lower</a>(<a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a>{2});</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">if</span> <a class="code" href="read__ply_8m.html#abab890090d13f82c09e94c8635cac65c">Count</a> == 3 &amp; <a class="code" href="read__ply_8m.html#aeb358229ddc7ef809b2e543138988375">~strcmp</a>(<a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a>{3},<span class="stringliteral">&#39;1.0&#39;</span>)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;               <a class="code" href="read__ply_8m.html#a585a03bab4c1f43e8f85e685294e1e6f">fclose</a>(<a class="code" href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">fid</a>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;               <a class="code" href="read__ply_8m.html#a68c387212e702af4b5d0d56e4c026e5e">error</a>(<span class="stringliteral">&#39;Only PLY format version 1.0 supported.&#39;</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;         <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">case</span> <span class="stringliteral">&#39;comment&#39;</span>        % read file comment</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;         <a class="code" href="read__ply_8m.html#a98341e4ebaa6d5c8c922bed72feafccd">NumComments</a> = NumComments + 1;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;         <a class="code" href="read__ply_8m.html#a64e051714f787e6fa5d77cabc7e9c410">Comments</a>{NumComments} = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;         <span class="keywordflow">for</span> <a class="code" href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 2:Count</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <a class="code" href="read__ply_8m.html#a64e051714f787e6fa5d77cabc7e9c410">Comments</a>{NumComments} = [Comments{NumComments},Token{i},&#39; &#39;];</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;         <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keywordflow">case</span> <span class="stringliteral">&#39;element&#39;</span>        % element name</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;         <span class="keywordflow">if</span> Count &gt;= 3</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">if</span> isfield(<a class="code" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a>,<a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a>{2})</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;               <a class="code" href="read__ply_8m.html#a585a03bab4c1f43e8f85e685294e1e6f">fclose</a>(<a class="code" href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">fid</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;               <a class="code" href="read__ply_8m.html#a68c387212e702af4b5d0d56e4c026e5e">error</a>([<span class="stringliteral">&#39;Duplicate element name, &#39;</span><span class="stringliteral">&#39;&#39;</span>,<a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a>{2},<span class="charliteral">&#39;&#39;&#39;</span>.<span class="stringliteral">&#39;]);</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="stringliteral">            end</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="stringliteral">            </span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="stringliteral">            NumElements = NumElements + 1;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="stringliteral">            NumProperties = 0;</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="stringliteral">          Elements = setfield(Elements,Token{2},[]);</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="stringliteral">            PropertyTypes = setfield(PropertyTypes,Token{2},[]);</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="stringliteral">            ElementNames{NumElements} = Token{2};</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="stringliteral">            PropertyNames = setfield(PropertyNames,Token{2},{});</span></div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="read__ply_8m.html#afa39aa1ba647b4a40a7b83d289945c5b">  125</a></span>&#160;<span class="stringliteral">            CurElement = Token{2};</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="stringliteral">            ElementCount(NumElements) = str2double(Token{3});</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="stringliteral">            </span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="stringliteral">            if isnan(ElementCount(NumElements))</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="stringliteral">               fclose(fid);</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="stringliteral">               error([&#39;</span>Bad element definition: <span class="stringliteral">&#39;,Buf]); </span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="stringliteral">            end            </span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="stringliteral">         else</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="stringliteral">            error([&#39;</span>Bad element definition: <span class="stringliteral">&#39;,Buf]);</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="stringliteral">         end         </span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="stringliteral">      case &#39;</span><span class="keyword">property</span><span class="stringliteral">&#39;   % element property</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="stringliteral">         if ~isempty(CurElement) &amp; Count &gt;= 3            </span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="stringliteral">            NumProperties = NumProperties + 1;</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="stringliteral">            eval([&#39;</span>tmp=isfield(<a class="code" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a>.<span class="stringliteral">&#39;,CurElement,&#39;</span>,<a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a>{Count});<span class="stringliteral">&#39;],...</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="stringliteral">               &#39;</span><a class="code" href="read__ply_8m.html#a585a03bab4c1f43e8f85e685294e1e6f">fclose</a>(<a class="code" href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">fid</a>);<a class="code" href="read__ply_8m.html#a68c387212e702af4b5d0d56e4c026e5e">error</a>([<span class="stringliteral">&#39;&#39;</span>Error reading property: <span class="stringliteral">&#39;&#39;</span>,<a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a>])<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="stringliteral">            </span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="stringliteral">            if tmp</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="stringliteral">               error([&#39;</span>Duplicate <span class="keyword">property</span> name, <span class="charliteral">&#39;&#39;&#39;</span>,<a class="code" href="read__ply_8m.html#afa39aa1ba647b4a40a7b83d289945c5b">CurElement</a>,<span class="charliteral">&#39;.&#39;</span>,<a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a>{2},<span class="charliteral">&#39;&#39;&#39;</span>.<span class="stringliteral">&#39;]);</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="stringliteral">            end            </span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="stringliteral">            </span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="stringliteral">            % add property subfield to Elements</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="stringliteral">            eval([&#39;</span>Elements.<span class="stringliteral">&#39;,CurElement,&#39;</span>.<span class="stringliteral">&#39;,Token{Count},&#39;</span>=[];<span class="stringliteral">&#39;], ...</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="stringliteral">               &#39;</span><a class="code" href="read__ply_8m.html#a585a03bab4c1f43e8f85e685294e1e6f">fclose</a>(<a class="code" href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">fid</a>);<a class="code" href="read__ply_8m.html#a68c387212e702af4b5d0d56e4c026e5e">error</a>([<span class="stringliteral">&#39;&#39;</span>Error reading property: <span class="stringliteral">&#39;&#39;</span>,<a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a>])<span class="stringliteral">&#39;);            </span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="stringliteral">            % add property subfield to PropertyTypes and save type</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="stringliteral">            eval([&#39;</span><a class="code" href="read__ply_8m.html#a985dea6af2b3206d8b34b41942498137">PropertyTypes</a>.<span class="stringliteral">&#39;,CurElement,&#39;</span>.<span class="stringliteral">&#39;,Token{Count},&#39;</span>={<a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a>{2:Count-1}};<span class="stringliteral">&#39;], ...</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="stringliteral">               &#39;</span><a class="code" href="read__ply_8m.html#a585a03bab4c1f43e8f85e685294e1e6f">fclose</a>(<a class="code" href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">fid</a>);<a class="code" href="read__ply_8m.html#a68c387212e702af4b5d0d56e4c026e5e">error</a>([<span class="stringliteral">&#39;&#39;</span>Error reading property: <span class="stringliteral">&#39;&#39;</span>,<a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a>])<span class="stringliteral">&#39;);            </span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="stringliteral">            % record property name order </span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="stringliteral">            eval([&#39;</span><a class="code" href="read__ply_8m.html#a3f58d2655395e5a6fa94539622b7911d">PropertyNames</a>.<span class="stringliteral">&#39;,CurElement,&#39;</span>{<a class="code" href="read__ply_8m.html#a91333d2427d184919b71feb2718bf713">NumProperties</a>}=<a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a>{Count};<span class="stringliteral">&#39;], ...</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="stringliteral">               &#39;</span><a class="code" href="read__ply_8m.html#a585a03bab4c1f43e8f85e685294e1e6f">fclose</a>(<a class="code" href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">fid</a>);<a class="code" href="read__ply_8m.html#a68c387212e702af4b5d0d56e4c026e5e">error</a>([<span class="stringliteral">&#39;&#39;</span>Error reading property: <span class="stringliteral">&#39;&#39;</span>,<a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a>])<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="stringliteral">         else</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="stringliteral">            fclose(fid);</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="stringliteral">            </span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="stringliteral">            if isempty(CurElement)            </span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="stringliteral">               error([&#39;</span>Property definition without element definition: <span class="stringliteral">&#39;,Buf]);</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="stringliteral">            else               </span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="stringliteral">               error([&#39;</span>Bad <span class="keyword">property</span> definition: <span class="stringliteral">&#39;,Buf]);</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="stringliteral">            end            </span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="stringliteral">         end         </span></div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a2138eb5315d7aa5ed6dea6809f7854f2">  163</a></span>&#160;<span class="stringliteral">      case &#39;</span>end_header<span class="stringliteral">&#39; % end of header, break from while loop</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="stringliteral">         break;     </span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="stringliteral">      end</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="stringliteral">   end</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="stringliteral">%%% set reading for specified data format %%%</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="stringliteral">if isempty(Format)</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="read__ply_8m.html#af14a59117298c2b0986241386f9895c4">  172</a></span>&#160;<span class="stringliteral">    warning(&#39;</span>Data format unspecified, assuming <a class="code" href="read__ply_8m.html#af14a59117298c2b0986241386f9895c4">ASCII</a>.<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="stringliteral">   Format = &#39;</span>ascii<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="stringliteral">switch Format</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="stringliteral">case &#39;</span>ascii<span class="stringliteral">&#39;</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="stringliteral">   Format = 0;</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="stringliteral">case &#39;</span>binary_little_endian<span class="stringliteral">&#39;</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="stringliteral">   Format = 1;</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="stringliteral">case &#39;</span>binary_big_endian<span class="stringliteral">&#39;</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="stringliteral">   Format = 2;</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="stringliteral">otherwise</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="stringliteral">   fclose(fid);</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="stringliteral">   error([&#39;</span>Data format <span class="charliteral">&#39;&#39;&#39;</span>,<a class="code" href="read__ply_8m.html#a84c649d0d2f62695af4cb7bb99bd14aa">Format</a>,<span class="charliteral">&#39;&#39;&#39;</span> not supported.<span class="stringliteral">&#39;]);</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="stringliteral">end</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="stringliteral">if ~Format   </span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="stringliteral">   Buf = fscanf(fid,&#39;</span>%f<span class="stringliteral">&#39;);      % read the rest of the file as ASCII data</span></div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="read__ply_8m.html#a5f9e6594ae1f30bfbe9296bb89e9e2bb">  190</a></span>&#160;<span class="stringliteral">   BufOff = 1;</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="stringliteral">else</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="stringliteral">   % reopen the file in read binary mode</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="stringliteral">   fclose(fid);</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="stringliteral">   </span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="stringliteral">   if Format == 1</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="stringliteral">      fid = fopen(Path,&#39;</span><a class="code" href="write_q_8m.html#a10d07efd5ac1cb47cf2972c3ef20c28e">r</a><span class="charliteral">&#39;,&#39;</span>ieee-le.l64&#39;);      % little endian</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <span class="keywordflow">else</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <a class="code" href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">fid</a> = fopen(Path,<span class="charliteral">&#39;r&#39;</span>,<span class="stringliteral">&#39;ieee-be.l64&#39;</span>);      % big endian</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   % <a class="code" href="lp_8m.html#a7fea6220f744ddc6392dbce4b6090493">find</a> the <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a> of the <a class="code" href="read__ply_8m.html#a2138eb5315d7aa5ed6dea6809f7854f2">header</a> <a class="code" href="read__ply_8m.html#a062fc39c9b0aaad4aec9448a73d316bb">again</a> (<span class="keyword">using</span> ftell on the old handle doesn<span class="stringliteral">&#39;t give the correct position)   </span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="stringliteral">   BufSize = 8192;</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="stringliteral">   Buf = [blanks(10),char(fread(fid,BufSize,&#39;</span>uchar<span class="charliteral">&#39;)&#39;</span>)];</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   <a class="code" href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = [];</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   tmp = -11;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="keywordflow">while</span> <a class="code" href="read__ply_8m.html#a5c31217b53545193047e1d3ca8806992">isempty</a>(<a class="code" href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = findstr(<a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a>,[&#39;end_header&#39;,13,10]);          % look for end_header + CR/LF</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = [<a class="code" href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a>,findstr(Buf,[&#39;end_header&#39;,10])];     % look for end_header + LF</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <a class="code" href="globfit_8m.html#aff09b08430658e07eb738015822d1a88">if</a> <a class="code" href="read__ply_8m.html#a5c31217b53545193047e1d3ca8806992">isempty</a>(i)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;         tmp = tmp + BufSize;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;         Buf = [Buf(BufSize+1:BufSize+10),<span class="keywordtype">char</span>(fread(fid,BufSize,&#39;uchar&#39;)&#39;)];</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   % seek <a class="code" href="function__handle_8m.html#adf776fff5775d0a3921962be9f64a01a">to</a> just after the <a class="code" href="get__line_8m.html#a4fa05b1f00fcde100685cc887554b93b">line</a> feed</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   fseek(fid,i + tmp + 11 + (Buf(i + 10) == 13),-1);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;%%% read element data %%%</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;% PLY and MATLAB data types (for fread)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;PlyTypeNames = {<span class="stringliteral">&#39;char&#39;</span>,<span class="stringliteral">&#39;uchar&#39;</span>,<span class="stringliteral">&#39;short&#39;</span>,<span class="stringliteral">&#39;ushort&#39;</span>,<span class="stringliteral">&#39;int&#39;</span>,<span class="stringliteral">&#39;uint&#39;</span>,<span class="stringliteral">&#39;float&#39;</span>,<span class="stringliteral">&#39;double&#39;</span>, ...</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <span class="stringliteral">&#39;char8&#39;</span>,<span class="stringliteral">&#39;uchar8&#39;</span>,<span class="stringliteral">&#39;short16&#39;</span>,<span class="stringliteral">&#39;ushort16&#39;</span>,<span class="stringliteral">&#39;int32&#39;</span>,<span class="stringliteral">&#39;uint32&#39;</span>,<span class="stringliteral">&#39;float32&#39;</span>,<span class="stringliteral">&#39;double64&#39;</span>};</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;MatlabTypeNames = {<span class="stringliteral">&#39;schar&#39;</span>,<span class="stringliteral">&#39;uchar&#39;</span>,<span class="stringliteral">&#39;int16&#39;</span>,<span class="stringliteral">&#39;uint16&#39;</span>,<span class="stringliteral">&#39;int32&#39;</span>,<span class="stringliteral">&#39;uint32&#39;</span>,<span class="stringliteral">&#39;single&#39;</span>,<span class="stringliteral">&#39;double&#39;</span>};</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;SizeOf = [1,1,2,2,4,4,4,8]; % <a class="code" href="scale__optimization_8m.html#aa3bc9f08cad6c0b386cc994140e1ce2e">size</a> in bytes of each type</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="keywordflow">for</span> <a class="code" href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a> = 1:<a class="code" href="read__ply_8m.html#a6bf9e150b9854564aee61a85d7542e6c">NumElements</a></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   % <span class="keyword">get</span> current element <span class="keyword">property</span> information</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <a class="code" href="read__ply_8m.html#acb9008e0ed73495bc039c1e6d23424ea">eval</a>([<span class="stringliteral">&#39;CurPropertyNames=PropertyNames.&#39;</span>,<a class="code" href="read__ply_8m.html#a1dad181f597d6284e2359538ba51259f">ElementNames</a>{i},<span class="charliteral">&#39;;&#39;</span>]);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <a class="code" href="read__ply_8m.html#acb9008e0ed73495bc039c1e6d23424ea">eval</a>([<span class="stringliteral">&#39;CurPropertyTypes=PropertyTypes.&#39;</span>,<a class="code" href="read__ply_8m.html#a1dad181f597d6284e2359538ba51259f">ElementNames</a>{i},<span class="charliteral">&#39;;&#39;</span>]);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <a class="code" href="read__ply_8m.html#a91333d2427d184919b71feb2718bf713">NumProperties</a> = <a class="code" href="scale__optimization_8m.html#aa3bc9f08cad6c0b386cc994140e1ce2e">size</a>(CurPropertyNames,2);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;%   <a class="code" href="globfit_8m.html#af2df36e4084ad56b7a315320a74840a6">fprintf</a>(<span class="stringliteral">&#39;Reading %s...\n&#39;</span>,<a class="code" href="read__ply_8m.html#a1dad181f597d6284e2359538ba51259f">ElementNames</a>{i});</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="keywordflow">if</span> ~Format   %%% read <a class="code" href="read__ply_8m.html#af14a59117298c2b0986241386f9895c4">ASCII</a> data %%%</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">for</span> <a class="code" href="fmincon__merged_8m.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a> = 1:NumProperties</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;         <a class="code" href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a> = getfield(CurPropertyTypes,CurPropertyNames{<a class="code" href="fmincon__merged_8m.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a>});</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;         </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;         <span class="keywordflow">if</span> strcmpi(Token{1},<span class="stringliteral">&#39;list&#39;</span>)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            Type(<a class="code" href="fmincon__merged_8m.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a>) = 1;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         <span class="keywordflow">else</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            Type(<a class="code" href="fmincon__merged_8m.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a>) = 0;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      % parse buffer</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keywordflow">if</span> ~any(Type)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;         % no list types</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;         Data = reshape(<a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a>(<a class="code" href="read__ply_8m.html#a5f9e6594ae1f30bfbe9296bb89e9e2bb">BufOff</a>:<a class="code" href="read__ply_8m.html#a5f9e6594ae1f30bfbe9296bb89e9e2bb">BufOff</a>+<a class="code" href="read__ply_8m.html#a387fc36411b1a33c2a2c8037607cdb10">ElementCount</a>(i)*NumProperties-1),NumProperties,<a class="code" href="read__ply_8m.html#a387fc36411b1a33c2a2c8037607cdb10">ElementCount</a>(i))<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="stringliteral">         BufOff = BufOff + ElementCount(i)*NumProperties;</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="stringliteral">      else</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="stringliteral">         ListData = cell(NumProperties,1);</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="stringliteral">         </span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="stringliteral">         for k = 1:NumProperties</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="stringliteral">            ListData{k} = cell(ElementCount(i),1);</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="stringliteral">         end</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="stringliteral">         </span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="stringliteral">         % list type</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="stringliteral">           for j = 1:ElementCount(i)</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="stringliteral">          for k = 1:NumProperties</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="stringliteral">              if ~Type(k)</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="stringliteral">                  Data(j,k) = Buf(BufOff);</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="stringliteral">                   BufOff = BufOff + 1;</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="stringliteral">                else</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="stringliteral">                tmp = Buf(BufOff);</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="stringliteral">                 ListData{k}{j} = Buf(BufOff+(1:tmp))&#39;</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                  <a class="code" href="read__ply_8m.html#a5f9e6594ae1f30bfbe9296bb89e9e2bb">BufOff</a> = <a class="code" href="read__ply_8m.html#a5f9e6594ae1f30bfbe9296bb89e9e2bb">BufOff</a> + tmp + 1;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;         <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   <span class="keywordflow">else</span>     %%% read binary data %%%</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      % translate PLY data type names <a class="code" href="function__handle_8m.html#adf776fff5775d0a3921962be9f64a01a">to</a> MATLAB data type names</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      ListFlag = 0;     % = 1 <span class="keywordflow">if</span> there is <a class="code" href="lp_8m.html#afe54f751d7a6a63f6f9481e00bd0f84e">a</a> list type </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      SameFlag = 1;     % = 1 <span class="keywordflow">if</span> <a class="code" href="mix__coeffs_8m.html#a4603254d9990f7140c024d51302d1a8f">all</a> types are the same</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">for</span> <a class="code" href="fmincon__merged_8m.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a> = 1:NumProperties</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;         Token = getfield(CurPropertyTypes,CurPropertyNames{j});</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;         </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;         <span class="keywordflow">if</span> <a class="code" href="read__ply_8m.html#aeb358229ddc7ef809b2e543138988375">~strcmp</a>(Token{1},<span class="stringliteral">&#39;list&#39;</span>)            % non-list type</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;             tmp = rem(strmatch(Token{1},PlyTypeNames,<span class="stringliteral">&#39;exact&#39;</span>)-1,8)+1;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;         </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">if</span> <a class="code" href="read__ply_8m.html#ae85704114edf1de2b54d507fe6450b5b">~isempty</a>(tmp)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;               TypeSize(j) = SizeOf(tmp);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;               Type{j} = MatlabTypeNames{tmp};</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;               TypeSize2(j) = 0;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;               Type2{j} = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;               </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;               SameFlag = SameFlag &amp; strcmp(Type{1},Type{j});</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;             <span class="keywordflow">else</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;             <a class="code" href="read__ply_8m.html#a585a03bab4c1f43e8f85e685294e1e6f">fclose</a>(fid);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;               <a class="code" href="read__ply_8m.html#a68c387212e702af4b5d0d56e4c026e5e">error</a>([<span class="stringliteral">&#39;Unknown property data type, &#39;</span><span class="stringliteral">&#39;&#39;</span>,Token{1},<span class="charliteral">&#39;&#39;&#39;</span>, in <span class="stringliteral">&#39;, ...</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="stringliteral">                     ElementNames{i},&#39;</span>.<span class="stringliteral">&#39;,CurPropertyNames{j},&#39;</span>.<span class="stringliteral">&#39;]);</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="stringliteral">            end</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="stringliteral">         else                                           % list type</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="stringliteral">            if length(Token) == 3</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="stringliteral">               ListFlag = 1;</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="stringliteral">               SameFlag = 0;</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="stringliteral">               tmp = rem(strmatch(Token{2},PlyTypeNames,&#39;</span>exact<span class="stringliteral">&#39;)-1,8)+1;</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="stringliteral">               tmp2 = rem(strmatch(Token{3},PlyTypeNames,&#39;</span>exact<span class="stringliteral">&#39;)-1,8)+1;</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="stringliteral">         </span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="stringliteral">               if ~isempty(tmp) &amp; ~isempty(tmp2)</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="stringliteral">                  TypeSize(j) = SizeOf(tmp);</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="stringliteral">                  Type{j} = MatlabTypeNames{tmp};</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="stringliteral">                  TypeSize2(j) = SizeOf(tmp2);</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="stringliteral">                  Type2{j} = MatlabTypeNames{tmp2};</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="stringliteral">              else</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="stringliteral">              fclose(fid);</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="stringliteral">                error([&#39;</span>Unknown <span class="keyword">property</span> data type, <span class="stringliteral">&#39;&#39;</span>list <span class="stringliteral">&#39;,Token{2},&#39;</span> <span class="stringliteral">&#39;,Token{3},&#39;</span><span class="stringliteral">&#39;&#39;</span>, in <span class="stringliteral">&#39;, ...</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="stringliteral">                        ElementNames{i},&#39;</span>.<span class="stringliteral">&#39;,CurPropertyNames{j},&#39;</span>.<span class="stringliteral">&#39;]);</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="stringliteral">               end</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="stringliteral">            else</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="stringliteral">               fclose(fid);</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="stringliteral">               error([&#39;</span>Invalid list syntax in <span class="stringliteral">&#39;,ElementNames{i},&#39;</span>.<span class="stringliteral">&#39;,CurPropertyNames{j},&#39;</span>.<span class="stringliteral">&#39;]);</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="stringliteral">            end</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="stringliteral">         end</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="stringliteral">      end</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="stringliteral">      </span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="stringliteral">      % read file</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="stringliteral">      if ~ListFlag</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="stringliteral">         if SameFlag</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="stringliteral">            % no list types, all the same type (fast)</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="stringliteral">            Data = fread(fid,[NumProperties,ElementCount(i)],Type{1})&#39;</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;         <span class="keywordflow">else</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            % no list types, mixed type</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            Data = zeros(<a class="code" href="read__ply_8m.html#a387fc36411b1a33c2a2c8037607cdb10">ElementCount</a>(i),NumProperties);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">for</span> j = 1:<a class="code" href="read__ply_8m.html#a387fc36411b1a33c2a2c8037607cdb10">ElementCount</a>(i)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    for k = 1:NumProperties</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                Data(j,k) = fread(fid,1,Type{k});</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;         <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;         ListData = cell(NumProperties,1);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;         </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;         <span class="keywordflow">for</span> k = 1:NumProperties</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            ListData{k} = cell(<a class="code" href="read__ply_8m.html#a387fc36411b1a33c2a2c8037607cdb10">ElementCount</a>(i),1);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;         <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;         </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;         <span class="keywordflow">if</span> NumProperties == 1</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            BufSize = 512;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            SkipNum = 4;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            j = 0;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            % list type, one property (fast <span class="keywordflow">if</span> lists are usually the same length)</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="keywordflow">while</span> j &lt; <a class="code" href="read__ply_8m.html#a387fc36411b1a33c2a2c8037607cdb10">ElementCount</a>(i)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;               <a class="code" href="read__ply_8m.html#af15128ffc3bac3d8b6cff4e9723b321e">Position</a> = ftell(fid);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;               % read in BufSize count values, assuming <a class="code" href="mix__coeffs_8m.html#a4603254d9990f7140c024d51302d1a8f">all</a> counts = SkipNum</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;               [<a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a>,BufSize] = fread(fid,BufSize,Type{1},SkipNum*TypeSize2(1));</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;               Miss = <a class="code" href="lp_8m.html#a7fea6220f744ddc6392dbce4b6090493">find</a>(<a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a> ~= SkipNum);                 % <a class="code" href="lp_8m.html#a7fea6220f744ddc6392dbce4b6090493">find</a> first count that is not SkipNum</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;               fseek(fid,<a class="code" href="read__ply_8m.html#af15128ffc3bac3d8b6cff4e9723b321e">Position</a> + TypeSize(1),-1);        % seek back <a class="code" href="function__handle_8m.html#adf776fff5775d0a3921962be9f64a01a">to</a> after first count                              </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;               </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;               <span class="keywordflow">if</span> <a class="code" href="read__ply_8m.html#a5c31217b53545193047e1d3ca8806992">isempty</a>(Miss)                                 % <a class="code" href="mix__coeffs_8m.html#a4603254d9990f7140c024d51302d1a8f">all</a> counts are SkipNum</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                  <a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a> = fread(fid,[SkipNum,BufSize],[int2str(SkipNum),<span class="charliteral">&#39;*&#39;</span>,Type2{1}],TypeSize(1))<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="stringliteral">                  fseek(fid,-TypeSize(1),0);                % undo last skip</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="stringliteral">                  </span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="stringliteral">                  for k = 1:BufSize</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="stringliteral">                     ListData{1}{j+k} = Buf(k,:);</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="stringliteral">                  end</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="stringliteral">                  </span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="stringliteral">                  j = j + BufSize;</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="stringliteral">                  BufSize = floor(1.5*BufSize);</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="stringliteral">               else</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="stringliteral">                  if Miss(1) &gt; 1                                    % some counts are SkipNum</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="stringliteral">                     Buf2 = fread(fid,[SkipNum,Miss(1)-1],[int2str(SkipNum),&#39;</span>*<span class="stringliteral">&#39;,Type2{1}],TypeSize(1))&#39;</span>;                     </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                     </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                     <span class="keywordflow">for</span> k = 1:Miss(1)-1</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                        ListData{1}{j+k} = Buf2(k,:);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                     <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                     </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                     j = j + k;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                  <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                  </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                  % read in the list with the missed count</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                  SkipNum = <a class="code" href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a>(Miss(1));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                  j = j + 1;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                  ListData{1}{j} = fread(fid,[1,SkipNum],Type2{1});</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                  BufSize = ceil(0.6*BufSize);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;               <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;         <span class="keywordflow">else</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            % list type(s), multiple properties (slow)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            Data = zeros(<a class="code" href="read__ply_8m.html#a387fc36411b1a33c2a2c8037607cdb10">ElementCount</a>(i),NumProperties);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            for j = 1:<a class="code" href="read__ply_8m.html#a387fc36411b1a33c2a2c8037607cdb10">ElementCount</a>(i)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                for k = 1:NumProperties</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <a class="code" href="globfit_8m.html#aff09b08430658e07eb738015822d1a88">if</a> <a class="code" href="read__ply_8m.html#a5c31217b53545193047e1d3ca8806992">isempty</a>(Type2{k})</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    Data(j,k) = fread(fid,1,Type{k});</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    tmp = fread(fid,1,Type{k});</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                    ListData{k}{j} = fread(fid,[1,tmp],Type2{k});</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                    <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;               <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;         <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;   <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   % put data into <a class="code" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a> structure</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keywordflow">for</span> k = 1:NumProperties</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (~Format &amp; ~Type(k)) | (Format &amp; <a class="code" href="read__ply_8m.html#a5c31217b53545193047e1d3ca8806992">isempty</a>(Type2{k}))</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="read__ply_8m.html#acb9008e0ed73495bc039c1e6d23424ea">eval</a>([<span class="stringliteral">&#39;Elements.&#39;</span>,<a class="code" href="read__ply_8m.html#a1dad181f597d6284e2359538ba51259f">ElementNames</a>{i},<span class="charliteral">&#39;.&#39;</span>,CurPropertyNames{k},<span class="stringliteral">&#39;=Data(:,k);&#39;</span>]);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="read__ply_8m.html#acb9008e0ed73495bc039c1e6d23424ea">eval</a>([<span class="stringliteral">&#39;Elements.&#39;</span>,<a class="code" href="read__ply_8m.html#a1dad181f597d6284e2359538ba51259f">ElementNames</a>{i},<span class="charliteral">&#39;.&#39;</span>,CurPropertyNames{k},<span class="stringliteral">&#39;=ListData{k};&#39;</span>]);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;clear Data ListData;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<a class="code" href="read__ply_8m.html#a585a03bab4c1f43e8f85e685294e1e6f">fclose</a>(fid);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="keywordflow">if</span> (nargin &gt; 1 &amp; strcmpi(Str,<span class="stringliteral">&#39;Tri&#39;</span>)) | nargout &gt; 2   </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   % <a class="code" href="lp_8m.html#a7fea6220f744ddc6392dbce4b6090493">find</a> <a class="code" href="read__ply_8m.html#aeaacd144d6d23e8f1de90c08544d00f3">vertex</a> element field</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   Name = {<span class="stringliteral">&#39;vertex&#39;</span>,<span class="stringliteral">&#39;Vertex&#39;</span>,<span class="stringliteral">&#39;point&#39;</span>,<span class="stringliteral">&#39;Point&#39;</span>,<span class="stringliteral">&#39;pts&#39;</span>,<span class="stringliteral">&#39;Pts&#39;</span>};</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   Names = [];</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keywordflow">for</span> i = 1:length(Name)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <a class="code" href="globfit_8m.html#aff09b08430658e07eb738015822d1a88">if</a> any(strcmp(<a class="code" href="read__ply_8m.html#a1dad181f597d6284e2359538ba51259f">ElementNames</a>,Name{i}))</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;         Names = getfield(<a class="code" href="read__ply_8m.html#a3f58d2655395e5a6fa94539622b7911d">PropertyNames</a>,Name{i});</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;         Name = Name{i};         </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;         <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <span class="keywordflow">if</span> any(strcmp(Names,<span class="charliteral">&#39;x&#39;</span>)) &amp; any(strcmp(Names,<span class="charliteral">&#39;y&#39;</span>)) &amp; any(strcmp(Names,<span class="charliteral">&#39;z&#39;</span>))</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="read__ply_8m.html#acb9008e0ed73495bc039c1e6d23424ea">eval</a>([&#39;varargout{1}=[Elements.&#39;,Name,&#39;.x,Elements.&#39;,Name,&#39;.y,Elements.&#39;,Name,&#39;.z];&#39;]);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   <span class="keywordflow">else</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      varargout{1} = zeros(1,3);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;           </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   varargout{2} = <a class="code" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   varargout{3} = <a class="code" href="read__ply_8m.html#a64e051714f787e6fa5d77cabc7e9c410">Comments</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <a class="code" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a> = [];</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   % <a class="code" href="lp_8m.html#a7fea6220f744ddc6392dbce4b6090493">find</a> <a class="code" href="read__ply_8m.html#abefeac42acb2cd277c8f6484c742e332">face</a> element field</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   Name = {<span class="stringliteral">&#39;face&#39;</span>,<span class="stringliteral">&#39;Face&#39;</span>,<span class="stringliteral">&#39;poly&#39;</span>,<span class="stringliteral">&#39;Poly&#39;</span>,<span class="stringliteral">&#39;tri&#39;</span>,<span class="stringliteral">&#39;Tri&#39;</span>};</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   Names = [];</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keywordflow">for</span> i = 1:length(Name)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <a class="code" href="globfit_8m.html#aff09b08430658e07eb738015822d1a88">if</a> any(strcmp(<a class="code" href="read__ply_8m.html#a1dad181f597d6284e2359538ba51259f">ElementNames</a>,Name{i}))</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;         Names = getfield(<a class="code" href="read__ply_8m.html#a3f58d2655395e5a6fa94539622b7911d">PropertyNames</a>,Name{i});</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;         Name = Name{i};</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;         <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <span class="keywordflow">if</span> <a class="code" href="read__ply_8m.html#ae85704114edf1de2b54d507fe6450b5b">~isempty</a>(Names)</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      % <a class="code" href="lp_8m.html#a7fea6220f744ddc6392dbce4b6090493">find</a> <a class="code" href="read__ply_8m.html#aeaacd144d6d23e8f1de90c08544d00f3">vertex</a> indices <span class="keyword">property</span> subfield</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;       PropertyName = {<span class="stringliteral">&#39;vertex_indices&#39;</span>,<span class="stringliteral">&#39;vertex_indexes&#39;</span>,<span class="stringliteral">&#39;vertex_index&#39;</span>,<span class="stringliteral">&#39;indices&#39;</span>,<span class="stringliteral">&#39;indexes&#39;</span>};           </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">for</span> i = 1:length(PropertyName)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <a class="code" href="globfit_8m.html#aff09b08430658e07eb738015822d1a88">if</a> any(strcmp(Names,PropertyName{i}))</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            PropertyName = PropertyName{i};</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;             <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;       <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">if</span> <a class="code" href="function__handle_8m.html#ab2858a3aed75bd6d963be5eeb20aac54">~iscell</a>(PropertyName)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;         % convert <a class="code" href="read__ply_8m.html#abefeac42acb2cd277c8f6484c742e332">face</a> index lists <a class="code" href="function__handle_8m.html#adf776fff5775d0a3921962be9f64a01a">to</a> triangular connectivity</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;         <a class="code" href="read__ply_8m.html#acb9008e0ed73495bc039c1e6d23424ea">eval</a>([<span class="stringliteral">&#39;FaceIndices=varargout{2}.&#39;</span>,Name,<span class="charliteral">&#39;.&#39;</span>,PropertyName,<span class="charliteral">&#39;;&#39;</span>]);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <a class="code" href="my__ply__read_8m.html#a8cc2e7240164328fdc3f0e5e21032c56">N</a> = length(FaceIndices);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <a class="code" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a> = zeros(<a class="code" href="my__ply__read_8m.html#a8cc2e7240164328fdc3f0e5e21032c56">N</a>*2,3);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        Extra = 0;   </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="keywordflow">for</span> k = 1:<a class="code" href="my__ply__read_8m.html#a8cc2e7240164328fdc3f0e5e21032c56">N</a></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <a class="code" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a>(k,:) = FaceIndices{k}(1:3);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keywordflow">for</span> j = 4:length(FaceIndices{k})</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                Extra = Extra + 1;      </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <a class="code" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a>(<a class="code" href="my__ply__read_8m.html#a8cc2e7240164328fdc3f0e5e21032c56">N</a> + Extra,:) = [Elements(k,[1,j-1]),FaceIndices{k}(j)];</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;         <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;         <a class="code" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a> = <a class="code" href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a>(1:<a class="code" href="my__ply__read_8m.html#a8cc2e7240164328fdc3f0e5e21032c56">N</a>+Extra,:) + 1;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   <a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="keywordflow">else</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   varargout{1} = <a class="code" href="read__ply_8m.html#a64e051714f787e6fa5d77cabc7e9c410">Comments</a>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<a class="code" href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div>
<div class="ttc" id="read__ply_8m_html_afa39aa1ba647b4a40a7b83d289945c5b"><div class="ttname"><a href="read__ply_8m.html#afa39aa1ba647b4a40a7b83d289945c5b">CurElement</a></div><div class="ttdeci">CurElement</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00125">read_ply.m:125</a></div></div>
<div class="ttc" id="read__ply_8m_html_a6f6ccfcf58b31cb6412107d9d5281426"><div class="ttname"><a href="read__ply_8m.html#a6f6ccfcf58b31cb6412107d9d5281426">i</a></div><div class="ttdeci">for i</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00019">read_ply.m:19</a></div></div>
<div class="ttc" id="read__ply_8m_html_a98341e4ebaa6d5c8c922bed72feafccd"><div class="ttname"><a href="read__ply_8m.html#a98341e4ebaa6d5c8c922bed72feafccd">NumComments</a></div><div class="ttdeci">NumComments</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00070">read_ply.m:70</a></div></div>
<div class="ttc" id="read__ply_8m_html_a387fc36411b1a33c2a2c8037607cdb10"><div class="ttname"><a href="read__ply_8m.html#a387fc36411b1a33c2a2c8037607cdb10">ElementCount</a></div><div class="ttdeci">structure for holding the element data ElementCount</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00075">read_ply.m:75</a></div></div>
<div class="ttc" id="read__ply_8m_html_af6a86f0b9935fa5b85af987fd825bf25"><div class="ttname"><a href="read__ply_8m.html#af6a86f0b9935fa5b85af987fd825bf25">Pts</a></div><div class="ttdeci">each element type is a field and each element property is a subfield If the file contains any they are returned in a cell string array especially when reading data with list type properties Pts</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00047">read_ply.m:47</a></div></div>
<div class="ttc" id="globfit_8m_html_af2df36e4084ad56b7a315320a74840a6"><div class="ttname"><a href="globfit_8m.html#af2df36e4084ad56b7a315320a74840a6">fprintf</a></div><div class="ttdeci">fprintf('Read%d points from%s\n', size(points, 1), cloud_p)</div></div>
<div class="ttc" id="read__ply_8m_html_a3f58d2655395e5a6fa94539622b7911d"><div class="ttname"><a href="read__ply_8m.html#a3f58d2655395e5a6fa94539622b7911d">PropertyNames</a></div><div class="ttdeci">list of element names in the order they are stored in the file PropertyNames</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00078">read_ply.m:78</a></div></div>
<div class="ttc" id="function__handle_8m_html_adf776fff5775d0a3921962be9f64a01a"><div class="ttname"><a href="function__handle_8m.html#adf776fff5775d0a3921962be9f64a01a">to</a></div><div class="ttdeci">function it is only possible to succesfully evaluate the resulting handle when the function the handle refers to was on the MATLAB search at the time the handle was created To create valid handles to arbitrarty functions possibly not on the search use the FUNCTION_HANDLE constructor of the specified file is not an executable MATLAB function dir not on MATLAB path myFunction m functions Please report bugs and inquiries to</div><div class="ttdef"><b>Definition:</b> <a href="function__handle_8m_source.html#l00031">function_handle.m:31</a></div></div>
<div class="ttc" id="write_q_8m_html_a10d07efd5ac1cb47cf2972c3ef20c28e"><div class="ttname"><a href="write_q_8m.html#a10d07efd5ac1cb47cf2972c3ef20c28e">r</a></div><div class="ttdeci">elements for r</div><div class="ttdef"><b>Definition:</b> <a href="write_q_8m_source.html#l00008">writeQ.m:8</a></div></div>
<div class="ttc" id="read__ply_8m_html_afeaa7ecdd726aa1950ba61dc659eb561"><div class="ttname"><a href="read__ply_8m.html#afeaa7ecdd726aa1950ba61dc659eb561">equal</a></div><div class="ttdeci">axis equal</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00049">read_ply.m:49</a></div></div>
<div class="ttc" id="fmincon__merged_8m_html_a1aabac6d068eef6a7bad3fdf50a05cc8"><div class="ttname"><a href="fmincon__merged_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a></div><div class="ttdeci">d</div><div class="ttdef"><b>Definition:</b> <a href="fmincon__merged_8m_source.html#l00097">fmincon_merged.m:97</a></div></div>
<div class="ttc" id="read__ply_8m_html_ae37127159ccb6dbcf62cb7e9dc97eab5"><div class="ttname"><a href="read__ply_8m.html#ae37127159ccb6dbcf62cb7e9dc97eab5">BufRem</a></div><div class="ttdeci">read one line from file BufRem</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00082">read_ply.m:82</a></div></div>
<div class="ttc" id="read__ply_8m_html_a84c649d0d2f62695af4cb7bb99bd14aa"><div class="ttname"><a href="read__ply_8m.html#a84c649d0d2f62695af4cb7bb99bd14aa">Format</a></div><div class="ttdeci">Format</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00069">read_ply.m:69</a></div></div>
<div class="ttc" id="read__ply_8m_html_abefeac42acb2cd277c8f6484c742e332"><div class="ttname"><a href="read__ply_8m.html#abefeac42acb2cd277c8f6484c742e332">face</a></div><div class="ttdeci">face</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00018">read_ply.m:18</a></div></div>
<div class="ttc" id="read__ply_8m_html_a3d71b92820bd3decb3c70113e0c8beba"><div class="ttname"><a href="read__ply_8m.html#a3d71b92820bd3decb3c70113e0c8beba">Elements</a></div><div class="ttdeci">Elements</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00074">read_ply.m:74</a></div></div>
<div class="ttc" id="read__ply_8m_html_a2138eb5315d7aa5ed6dea6809f7854f2"><div class="ttname"><a href="read__ply_8m.html#a2138eb5315d7aa5ed6dea6809f7854f2">header</a></div><div class="ttdeci">end end case end_header end of header</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00163">read_ply.m:163</a></div></div>
<div class="ttc" id="read__ply_8m_html_abab890090d13f82c09e94c8635cac65c"><div class="ttname"><a href="read__ply_8m.html#abab890090d13f82c09e94c8635cac65c">Count</a></div><div class="ttdeci">Count</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00084">read_ply.m:84</a></div></div>
<div class="ttc" id="my__ply__read_8m_html_a8cc2e7240164328fdc3f0e5e21032c56"><div class="ttname"><a href="my__ply__read_8m.html#a8cc2e7240164328fdc3f0e5e21032c56">N</a></div><div class="ttdeci">N</div><div class="ttdef"><b>Definition:</b> <a href="my__ply__read_8m_source.html#l00010">my_ply_read.m:10</a></div></div>
<div class="ttc" id="read__ply_8m_html_a91333d2427d184919b71feb2718bf713"><div class="ttname"><a href="read__ply_8m.html#a91333d2427d184919b71feb2718bf713">NumProperties</a></div><div class="ttdeci">NumProperties</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00073">read_ply.m:73</a></div></div>
<div class="ttc" id="read__ply_8m_html_ac04e968fceb2af0a5590d4aa4b44f7c9"><div class="ttname"><a href="read__ply_8m.html#ac04e968fceb2af0a5590d4aa4b44f7c9">c</a></div><div class="ttdeci">vertex is a nb vert x array specifying the position of the vertices face is a nb face x array specifying the connectivity of the mesh c</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00014">read_ply.m:14</a></div></div>
<div class="ttc" id="lp_8m_html_a7fea6220f744ddc6392dbce4b6090493"><div class="ttname"><a href="lp_8m.html#a7fea6220f744ddc6392dbce4b6090493">find</a></div><div class="ttdeci">end end find(chosen==1) sum(chosen) return</div></div>
<div class="ttc" id="read__ply_8m_html_ac4609e009bf71bd404bffb2699a44ecd"><div class="ttname"><a href="read__ply_8m.html#ac4609e009bf71bd404bffb2699a44ecd">Buf</a></div><div class="ttdeci">end Buf</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00059">read_ply.m:59</a></div></div>
<div class="ttc" id="read__ply_8m_html_af14a59117298c2b0986241386f9895c4"><div class="ttname"><a href="read__ply_8m.html#af14a59117298c2b0986241386f9895c4">ASCII</a></div><div class="ttdeci">end end end set reading for specified data format if assuming ASCII</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00172">read_ply.m:172</a></div></div>
<div class="ttc" id="read__ply_8m_html_a985dea6af2b3206d8b34b41942498137"><div class="ttname"><a href="read__ply_8m.html#a985dea6af2b3206d8b34b41942498137">PropertyTypes</a></div><div class="ttdeci">number of each type of element in file PropertyTypes</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00076">read_ply.m:76</a></div></div>
<div class="ttc" id="read__ply_8m_html_a4370195f1c9e5f2ad3cb5f305af4c9ac"><div class="ttname"><a href="read__ply_8m.html#a4370195f1c9e5f2ad3cb5f305af4c9ac">IMPORTANT</a></div><div class="ttdeci">vertex is a nb vert x array specifying the position of the vertices face is a nb face x array specifying the connectivity of the mesh IMPORTANT</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00014">read_ply.m:14</a></div></div>
<div class="ttc" id="read__ply_8m_html_a1dad181f597d6284e2359538ba51259f"><div class="ttname"><a href="read__ply_8m.html#a1dad181f597d6284e2359538ba51259f">ElementNames</a></div><div class="ttdeci">corresponding structure recording property types ElementNames</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00077">read_ply.m:77</a></div></div>
<div class="ttc" id="read__ply_8m_html_a6906c0a02922367dd7a5ba547664af1c"><div class="ttname"><a href="read__ply_8m.html#a6906c0a02922367dd7a5ba547664af1c">Token</a></div><div class="ttdeci">Token</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00083">read_ply.m:83</a></div></div>
<div class="ttc" id="read__ply_8m_html_a37f3d16d17eb372d40e4d933522a631b"><div class="ttname"><a href="read__ply_8m.html#a37f3d16d17eb372d40e4d933522a631b">also</a></div><div class="ttdeci">See also</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00055">read_ply.m:55</a></div></div>
<div class="ttc" id="lp_8m_html_a79aaf9eb97ed1c7472790b6695b6ac1c"><div class="ttname"><a href="lp_8m.html#a79aaf9eb97ed1c7472790b6695b6ac1c">D</a></div><div class="ttdeci">clear clear clear clear D</div><div class="ttdef"><b>Definition:</b> <a href="lp_8m_source.html#l00011">lp.m:11</a></div></div>
<div class="ttc" id="globfit_8m_html_aff09b08430658e07eb738015822d1a88"><div class="ttname"><a href="globfit_8m.html#aff09b08430658e07eb738015822d1a88">if</a></div><div class="ttdeci">if(0)%%read points cloud_p</div></div>
<div class="ttc" id="mix__coeffs_8m_html_a0ca1340e717d6af260120fd623ac197e"><div class="ttname"><a href="mix__coeffs_8m.html#a0ca1340e717d6af260120fd623ac197e">large</a></div><div class="ttdeci">large</div><div class="ttdef"><b>Definition:</b> <a href="mix__coeffs_8m_source.html#l00011">mix_coeffs.m:11</a></div></div>
<div class="ttc" id="read__ply_8m_html_a21c8e1200cc5f6fb1c566a0e2a1c6787"><div class="ttname"><a href="read__ply_8m.html#a21c8e1200cc5f6fb1c566a0e2a1c6787">Example</a></div><div class="ttdeci">each element type is a field and each element property is a subfield If the file contains any they are returned in a cell string array especially when reading data with list type properties Example</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00038">read_ply.m:38</a></div></div>
<div class="ttc" id="get__line_8m_html_a4fa05b1f00fcde100685cc887554b93b"><div class="ttname"><a href="get__line_8m.html#a4fa05b1f00fcde100685cc887554b93b">line</a></div><div class="ttdeci">line</div><div class="ttdef"><b>Definition:</b> <a href="get__line_8m_source.html#l00003">get_line.m:3</a></div></div>
<div class="ttc" id="read__ply_8m_html_acb9008e0ed73495bc039c1e6d23424ea"><div class="ttname"><a href="read__ply_8m.html#acb9008e0ed73495bc039c1e6d23424ea">eval</a></div><div class="ttdeci">eval(['tmp=isfield(Elements.', CurElement,', Token{Count});'],... 'fclose(fid);error([''Error reading property: '', Buf])')</div></div>
<div class="ttc" id="read__ply_8m_html_a5c31217b53545193047e1d3ca8806992"><div class="ttname"><a href="read__ply_8m.html#a5c31217b53545193047e1d3ca8806992">isempty</a></div><div class="ttdeci">end end end set reading for specified data format if isempty(Format) warning('Data format unspecified</div></div>
<div class="ttc" id="read__ply_8m_html_a68c387212e702af4b5d0d56e4c026e5e"><div class="ttname"><a href="read__ply_8m.html#a68c387212e702af4b5d0d56e4c026e5e">error</a></div><div class="ttdeci">open file in read text mode if error(Msg)</div></div>
<div class="ttc" id="read__ply_8m_html_a1425967ad549bbd542754a17a8f851f4"><div class="ttname"><a href="read__ply_8m.html#a1425967ad549bbd542754a17a8f851f4">comments</a></div><div class="ttdeci">each element type is a field and each element property is a subfield If the file contains any comments</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00035">read_ply.m:35</a></div></div>
<div class="ttc" id="read__ply_8m_html_aeaacd144d6d23e8f1de90c08544d00f3"><div class="ttname"><a href="read__ply_8m.html#aeaacd144d6d23e8f1de90c08544d00f3">vertex</a></div><div class="ttdeci">end vertex</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00023">read_ply.m:23</a></div></div>
<div class="ttc" id="function__handle_8m_html_ab2858a3aed75bd6d963be5eeb20aac54"><div class="ttname"><a href="function__handle_8m.html#ab2858a3aed75bd6d963be5eeb20aac54">~iscell</a></div><div class="ttdeci">end if ~iscell(fcn) fcn</div></div>
<div class="ttc" id="read__ply_8m_html_a05147d2000115e5e5e1b78c9e6049992"><div class="ttname"><a href="read__ply_8m.html#a05147d2000115e5e5e1b78c9e6049992">lower</a></div><div class="ttdeci">end end if Count parse line switch lower(Token{1}) case 'format'%read data format if Count &gt;</div></div>
<div class="ttc" id="read__ply_8m_html_a5f9e6594ae1f30bfbe9296bb89e9e2bb"><div class="ttname"><a href="read__ply_8m.html#a5f9e6594ae1f30bfbe9296bb89e9e2bb">BufOff</a></div><div class="ttdeci">read the rest of the file as ASCII data BufOff</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00190">read_ply.m:190</a></div></div>
<div class="ttc" id="read__ply_8m_html_ae85704114edf1de2b54d507fe6450b5b"><div class="ttname"><a href="read__ply_8m.html#ae85704114edf1de2b54d507fe6450b5b">~isempty</a></div><div class="ttdeci">while ~isempty(BufRem)%split line into tokens[tmp</div></div>
<div class="ttc" id="read__ply_8m_html_a81153e78b822f0c6d30ad2bb54a464e1"><div class="ttname"><a href="read__ply_8m.html#a81153e78b822f0c6d30ad2bb54a464e1">fid</a></div><div class="ttdeci">open file in read text mode if fid</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00057">read_ply.m:57</a></div></div>
<div class="ttc" id="globfit_8m_html_a748b7041400e7c1ab0f6667fff0271c7"><div class="ttname"><a href="globfit_8m.html#a748b7041400e7c1ab0f6667fff0271c7">tokens</a></div><div class="ttdeci">tokens</div><div class="ttdef"><b>Definition:</b> <a href="globfit_8m_source.html#l00017">globfit.m:17</a></div></div>
<div class="ttc" id="read__ply_8m_html_aa2170d21e4b4aebbc0b3d70cb06764fb"><div class="ttname"><a href="read__ply_8m.html#aa2170d21e4b4aebbc0b3d70cb06764fb">COMMENTS</a></div><div class="ttdeci">each element type is a field and each element property is a subfield If the file contains any they are returned in a cell string array COMMENTS[TRI, PTS]</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00038">read_ply.m:38</a></div></div>
<div class="ttc" id="read__ply_8m_html_aeb358229ddc7ef809b2e543138988375"><div class="ttname"><a href="read__ply_8m.html#aeb358229ddc7ef809b2e543138988375">~strcmp</a></div><div class="ttdeci">if ~strcmp(Buf,'ply') fclose(fid)</div></div>
<div class="ttc" id="globfit_8m_html_af575f17e6be3f269b86b041a60560dbf"><div class="ttname"><a href="globfit_8m.html#af575f17e6be3f269b86b041a60560dbf">text</a></div><div class="ttdeci">text</div><div class="ttdef"><b>Definition:</b> <a href="globfit_8m_source.html#l00013">globfit.m:13</a></div></div>
<div class="ttc" id="read__ply_8m_html_a64e051714f787e6fa5d77cabc7e9c410"><div class="ttname"><a href="read__ply_8m.html#a64e051714f787e6fa5d77cabc7e9c410">Comments</a></div><div class="ttdeci">Comments</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00071">read_ply.m:71</a></div></div>
<div class="ttc" id="fmincon__merged_8m_html_abf2bc2545a4a5f5683d9ef3ed0d977e0"><div class="ttname"><a href="fmincon__merged_8m.html#abf2bc2545a4a5f5683d9ef3ed0d977e0">j</a></div><div class="ttdeci">for j</div><div class="ttdef"><b>Definition:</b> <a href="fmincon__merged_8m_source.html#l00028">fmincon_merged.m:28</a></div></div>
<div class="ttc" id="read__ply_8m_html_a797333cf5a0813b58977150b073cb0ea"><div class="ttname"><a href="read__ply_8m.html#a797333cf5a0813b58977150b073cb0ea">colormap</a></div><div class="ttdeci">colormap(gray)</div></div>
<div class="ttc" id="read__ply_8m_html_a062fc39c9b0aaad4aec9448a73d316bb"><div class="ttname"><a href="read__ply_8m.html#a062fc39c9b0aaad4aec9448a73d316bb">again</a></div><div class="ttdeci">big endian end find the end of the header again(using ftell on the old handle doesn't give the correct position) BufSize</div></div>
<div class="ttc" id="read__ply_8m_html_ac3bb6f719742fd1e5768d6d1361cfb49"><div class="ttname"><a href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a></div><div class="ttdeci">vi</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00016">read_ply.m:16</a></div></div>
<div class="ttc" id="read__ply_8m_html_a6bf9e150b9854564aee61a85d7542e6c"><div class="ttname"><a href="read__ply_8m.html#a6bf9e150b9854564aee61a85d7542e6c">NumElements</a></div><div class="ttdeci">for storing any file comments NumElements</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00072">read_ply.m:72</a></div></div>
<div class="ttc" id="patch_cost_function_8m_html_a697fd8f03c777e1b503fd9c4c9e73b38"><div class="ttname"><a href="patch_cost_function_8m.html#a697fd8f03c777e1b503fd9c4c9e73b38">mesh</a></div><div class="ttdeci">mesh(x, y, z)</div></div>
<div class="ttc" id="read__ply_8m_html_a585a03bab4c1f43e8f85e685294e1e6f"><div class="ttname"><a href="read__ply_8m.html#a585a03bab4c1f43e8f85e685294e1e6f">fclose</a></div><div class="ttdeci">else fclose(fid)</div></div>
<div class="ttc" id="read__ply_8m_html_af15128ffc3bac3d8b6cff4e9723b321e"><div class="ttname"><a href="read__ply_8m.html#af15128ffc3bac3d8b6cff4e9723b321e">Position</a></div><div class="ttdeci">end read header Position</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00068">read_ply.m:68</a></div></div>
<div class="ttc" id="fmincon__merged_8m_html_a87e2a92a5d6e04205f2aa5461cea6b17"><div class="ttname"><a href="fmincon__merged_8m.html#a87e2a92a5d6e04205f2aa5461cea6b17">end</a></div><div class="ttdeci">end[c, ceq]</div><div class="ttdef"><b>Definition:</b> <a href="fmincon__merged_8m_source.html#l00102">fmincon_merged.m:102</a></div></div>
<div class="ttc" id="read__ply_8m_html_aa2abfbc286fa7e2ce2c16b9585570027"><div class="ttname"><a href="read__ply_8m.html#aa2abfbc286fa7e2ce2c16b9585570027">Msg</a></div><div class="ttdeci">See Msg</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00055">read_ply.m:55</a></div></div>
<div class="ttc" id="read__ply_8m_html_acc928556d3638a1942e1db973c8f6326"><div class="ttname"><a href="read__ply_8m.html#acc928556d3638a1942e1db973c8f6326">function</a></div><div class="ttdeci">function[vertex, face]</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00001">read_ply.m:1</a></div></div>
<div class="ttc" id="scale__optimization_8m_html_aa3bc9f08cad6c0b386cc994140e1ce2e"><div class="ttname"><a href="scale__optimization_8m.html#aa3bc9f08cad6c0b386cc994140e1ce2e">size</a></div><div class="ttdeci">size(unique(A,'rows')) subplot(121) hist(qo</div></div>
<div class="ttc" id="read__ply_8m_html_a9d8e7ce856160426f38956bc38d7a2f3"><div class="ttname"><a href="read__ply_8m.html#a9d8e7ce856160426f38956bc38d7a2f3">nf</a></div><div class="ttdeci">nf</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00017">read_ply.m:17</a></div></div>
<div class="ttc" id="read__ply_8m_html_af340ef0bf3aaef588c1bbea259f33cfd"><div class="ttname"><a href="read__ply_8m.html#af340ef0bf3aaef588c1bbea259f33cfd">trisurf</a></div><div class="ttdeci">trisurf(Tri, Pts(:, 1), Pts(:, 2), Pts(:, 3))</div></div>
<div class="ttc" id="lp_8m_html_afe54f751d7a6a63f6f9481e00bd0f84e"><div class="ttname"><a href="lp_8m.html#afe54f751d7a6a63f6f9481e00bd0f84e">a</a></div><div class="ttdeci">TEST a</div><div class="ttdef"><b>Definition:</b> <a href="lp_8m_source.html#l00106">lp.m:106</a></div></div>
<div class="ttc" id="mix__coeffs_8m_html_a4603254d9990f7140c024d51302d1a8f"><div class="ttname"><a href="mix__coeffs_8m.html#a4603254d9990f7140c024d51302d1a8f">all</a></div><div class="ttdeci">close all</div><div class="ttdef"><b>Definition:</b> <a href="mix__coeffs_8m_source.html#l00001">mix_coeffs.m:1</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 8 2014 11:09:05 for globOpt by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
