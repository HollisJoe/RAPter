<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>globOpt: include/optimization/qp/solver.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">globOpt
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e01fc40d2b7505b29a2defa0d6c40691.html">include</a></li><li class="navelem"><a class="el" href="dir_7db7a0a08587af978fbbd24a5d312fdb.html">optimization</a></li><li class="navelem"><a class="el" href="dir_8c0d06a9fe66cc45abb59366d146a393.html">qp</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">solver.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="solver_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef __GF2_SOLVER_H__</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define __GF2_SOLVER_H__</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#ifdef GF2_USE_GUROBI</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#   include &quot;<a class="code" href="gurobi_opt_8h.html">optimization/qp/gurobiOpt.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &quot;<a class="code" href="globfit2_2primitives_2point_primitive_8h.html">globfit2/primitives/pointPrimitive.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="line_primitive2_8h.html">globfit2/primitives/linePrimitive2.h</a>&quot;</span> <span class="comment">// remove, if typedef is moved</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;qcqpcpp/io/io.h&quot;</span>                      <span class="comment">// read/writeSparseMatrix</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">namespace </span>GF2 {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="struct_g_f2_1_1_solver_params.html">   17</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_g_f2_1_1_solver_params.html">SolverParams</a></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;{</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="struct_g_f2_1_1_solver_params.html#a5052445dc80cc88a548e96568a8159a5">   19</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="struct_g_f2_1_1_solver_params.html#a5052445dc80cc88a548e96568a8159a5">n_points</a> = 50;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;}; <span class="comment">// ... struct SolverParams</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html">   22</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_g_f2_1_1_solver.html">Solver</a></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">   25</a></span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">float</span>                                       <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>;</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html#a98032db9c820f616ee86d5eadf4abb74">   26</a></span>&#160;        <span class="keyword">typedef</span> Eigen::Matrix&lt;Scalar,3,1&gt;                   <a class="code" href="class_g_f2_1_1_solver.html#a98032db9c820f616ee86d5eadf4abb74">Vector</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html#a59d72ae46dcc288c6043505580b9c0dc">   27</a></span>&#160;        <span class="keyword">typedef</span> <a class="code" href="class_g_f2_1_1_line_primitive2.html">LinePrimitive2</a>                              <a class="code" href="class_g_f2_1_1_solver.html#a59d72ae46dcc288c6043505580b9c0dc">PrimitiveT</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html#a469309bf22484766411f134ced98d4b5">   28</a></span>&#160;        <span class="keyword">typedef</span> <a class="code" href="class_g_f2_1_1_point_primitive.html">PointPrimitive</a>                              <a class="code" href="class_g_f2_1_1_solver.html#a469309bf22484766411f134ced98d4b5">PointPrimitiveT</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html#a33395c45075ba3ccfcb4cc2a9cfe1905">   29</a></span>&#160;        <span class="keyword">typedef</span> std::vector&lt;std::vector&lt;PrimitiveT&gt; &gt;       <a class="code" href="class_g_f2_1_1_solver.html#a33395c45075ba3ccfcb4cc2a9cfe1905">PrimitiveContainerT</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html#a84e8a6d62d98e61d3edb2f5f10116048">   30</a></span>&#160;        <span class="keyword">typedef</span> std::vector&lt;PointPrimitiveT&gt;                <a class="code" href="class_g_f2_1_1_solver.html#a84e8a6d62d98e61d3edb2f5f10116048">PointContainerT</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">   31</a></span>&#160;        <span class="keyword">typedef</span> Eigen::SparseMatrix&lt;Scalar,Eigen::RowMajor&gt; <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">SparseMatrix</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="comment">//static inline int show       ( int argc, char** argv );</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#if WITH_SAMPLE_INPUT</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor"></span>        <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> sampleInput( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv );</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#endif // WITH_SAMPLE_INPUT</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor"></span>        <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="class_g_f2_1_1_solver.html#ab245f9234167ca4d1e00fb99a1eebf8c">generateCli</a>   ( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv );</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="comment">//static inline int formulate  ( int argc, char** argv );</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="class_g_f2_1_1_solver.html#a5e7cc6867880ad093d96bbcc610890ce">solve</a>      ( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv );</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="class_g_f2_1_1_solver.html#abb12460e745a38fc70baf4603e32a95a">datafit</a>    ( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv );</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="comment">//static inline int run        ( std::string img_path, Scalar const scale, std::vector&lt;Scalar&gt; const&amp; angles, int argc, char** argv ) __attribute__ ((deprecated));</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keyword">static</span> <span class="keyword">inline</span> Eigen::Matrix&lt;Scalar,3,1&gt; <a class="code" href="class_g_f2_1_1_solver.html#aad3caec6fed374272acac334c00f2149">checkSolution</a>( std::vector&lt;Scalar&gt;       <span class="keyword">const</span>&amp; <a class="code" href="fmincon__merged_8m.html#aff183fb9b39732dbe5febd1cec997d25">x</a></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                                             , <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">SparseMatrix</a>              <span class="keyword">const</span>&amp; <a class="code" href="compare_mosek_gurobi_8m.html#a3be9e3ccfd210496dfc7940875998fe7">qo</a></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                                             , <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">SparseMatrix</a>              <span class="keyword">const</span>&amp; <a class="code" href="compare_mosek_gurobi_8m.html#ab6635a71ba191c6c4688c17ed82adfd1">Qo</a></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                                             , <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">SparseMatrix</a>              <span class="keyword">const</span>&amp; <a class="code" href="globfit_8m.html#a9cd3750f4fb066187238d29551e56a88">A</a></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                                             , Eigen::Matrix&lt;Scalar,3,1&gt; <span class="keyword">const</span>&amp; weights );</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;}; <span class="comment">// ... cls Solver</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;} <span class="comment">// ... ns gf2</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//__________________________________HPP__________________________________________________</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;Eigen/Sparse&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#ifdef GF2_USE_PCL</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor"></span><span class="comment">//#   include &lt;pcl/visualization/pcl_visualizer.h&gt;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#   include &lt;pcl/console/parse.h&gt;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#endif // GF2_USE_PCL</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#ifdef GF2_WITH_MOSEK</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#   include &quot;qcqpcpp/mosekOptProblem.h&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#endif // GF2_WITH_MOSEK</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef GF2_WITH_BONMIN</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#   include &quot;qcqpcpp/bonminOptProblem.h&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef GF2_WITH_GUROBI</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor"></span><span class="comment">//#   include &quot;qcqpcpp/gurobiOptProblem.h&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="disk_util_8hpp.html">globfit2/util/diskUtil.hpp</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="util_2util_8hpp.html">globfit2/util/util.hpp</a>&quot;</span>                     <span class="comment">// timestamp2Str</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="globfit2_2primitives_2point_primitive_8h.html">globfit2/primitives/pointPrimitive.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="line_primitive2_8h.html">globfit2/primitives/linePrimitive2.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="io_8h.html">globfit2/io/io.h</a>&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gt_creator_8h.html">globfit2/ground_truth/gtCreator.h</a>&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="candidate_generator_8h.html">globfit2/optimization/candidateGenerator.h</a>&quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="energy_functors_8h.html">globfit2/optimization/energyFunctors.h</a>&quot;</span>     <span class="comment">// PointLineDistanceFunctor,</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="problem_setup_8h.html">globfit2/optimization/problemSetup.h</a>&quot;</span>       <span class="comment">// everyPatchNeedsDirection()</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="segmentation_8h.html">globfit2/optimization/segmentation.h</a>&quot;</span>       <span class="comment">// orientPoints, patchify</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">namespace </span>GF2</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#if GF2_WITH_SAMPLE_INPUT</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;Solver::sampleInput( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv )</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    std::string img_path;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordtype">bool</span> valid_input = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> ( (pcl::console::parse_argument(argc, argv, <span class="stringliteral">&quot;--img&quot;</span>       , img_path  ) &lt; 0) )</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;--img is compulsory&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        valid_input = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">int</span>         n_points    = 200;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">float</span>       scene_size  = 1.f,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                noise       = 0.015f,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                filter_size = 0.0075f;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    std::string out_dir = <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    pcl::console::parse_argument(argc, argv, <span class="stringliteral">&quot;-N&quot;</span>           , n_points   );</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    pcl::console::parse_argument(argc, argv, <span class="stringliteral">&quot;--out_dir&quot;</span>    , out_dir    );</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    pcl::console::parse_argument(argc, argv, <span class="stringliteral">&quot;--scene-size&quot;</span> , scene_size );</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    pcl::console::parse_argument(argc, argv, <span class="stringliteral">&quot;--noise&quot;</span>      , noise      );</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    pcl::console::parse_argument(argc, argv, <span class="stringliteral">&quot;--filter-cell&quot;</span>, filter_size);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;         std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Usage:\t gurobi_opt --sample-input&quot;</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; --img &quot;</span>          &lt;&lt; img_path</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; [-N &quot;</span>            &lt;&lt; n_points &lt;&lt; <span class="stringliteral">&quot;]&quot;</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; [--out_dir &quot;</span>     &lt;&lt; out_dir &lt;&lt; <span class="stringliteral">&quot;]&quot;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; [--scene-size &quot;</span>  &lt;&lt; scene_size &lt;&lt; <span class="stringliteral">&quot;]&quot;</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; [--noise &quot;</span>       &lt;&lt; noise &lt;&lt; <span class="stringliteral">&quot;]&quot;</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; [--filter-cell &quot;</span> &lt;&lt; filter_size &lt;&lt; <span class="stringliteral">&quot;]&quot;</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                   &lt;&lt; std::endl;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;         <span class="keywordflow">if</span> ( !valid_input )</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;             <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// sample image</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    pcl::PointCloud&lt;pcl::PointXYZRGB&gt;::Ptr <a class="code" href="lp_8m.html#a629c932e04d057de3f60912da6e565c2">cloud</a>( <span class="keyword">new</span> pcl::PointCloud&lt;pcl::PointXYZRGB&gt;() );</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="class_g_f2_1_1_g_t_creator.html#aa6983d213ef48c890941d6a36cc94894">GTCreator::sampleImage</a>( <a class="code" href="lp_8m.html#a629c932e04d057de3f60912da6e565c2">cloud</a>, img_path, n_points, noise, scene_size, filter_size, <span class="comment">/* sensor_origin: */</span> NULL );</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">// create output directory</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    std::string img_name = <a class="code" href="function__handle_8m.html#a03d2a3685385f82943527be28e035ad9">boost::filesystem::path</a>( img_path ).filename().stem().string();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    std::stringstream ss;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    ss &lt;&lt; out_dir &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; img_name &lt;&lt; <span class="stringliteral">&quot;_noise_&quot;</span> &lt;&lt; noise;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    std::string out_path = ss.str();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span> ( !boost::filesystem::exists(out_path) )</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        boost::filesystem::create_directory( out_path );</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    std::string cloud_path = out_path + <span class="stringliteral">&quot;/cloud.ply&quot;</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="namespace_g_f2_1_1util.html#a76af03f83085374160be9ba6570d1955">util::saveBackup</a>( cloud_path );</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    pcl::io::savePLYFileASCII( cloud_path, *<a class="code" href="lp_8m.html#a629c932e04d057de3f60912da6e565c2">cloud</a> );</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;saved &quot;</span> &lt;&lt; cloud_path &lt;&lt; std::endl;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;} <span class="comment">// ...Solver::sampleInput()</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#endif // GF2_WITH_SAMPLE_INPUT</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html#ab245f9234167ca4d1e00fb99a1eebf8c">  155</a></span>&#160;<a class="code" href="class_g_f2_1_1_solver.html#ab245f9234167ca4d1e00fb99a1eebf8c">Solver::generateCli</a>( <span class="keywordtype">int</span>    argc</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                   , <span class="keywordtype">char</span>** argv )</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> PointContainerT::value_type <a class="code" href="class_g_f2_1_1_solver.html#a469309bf22484766411f134ced98d4b5">PointPrimitiveT</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordtype">int</span> err = EXIT_SUCCESS;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="struct_g_f2_1_1_candidate_generator_params.html">CandidateGeneratorParams&lt;Scalar&gt;</a> generatorParams;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    std::string                 cloud_path              = <span class="stringliteral">&quot;./cloud.ply&quot;</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>                      angle_gen               = M_PI_2;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    std::string                 mode_string             = <span class="stringliteral">&quot;representative_sqr&quot;</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    std::vector&lt;std::string&gt;    mode_opts               = { <span class="stringliteral">&quot;representative_sqr&quot;</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">#if GF2_WITH_FULL_LINKAGE</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor"></span>                                                            <span class="stringliteral">&quot;full_min&quot;</span>, <span class="stringliteral">&quot;full_max&quot;</span>, <span class="stringliteral">&quot;squared_min&quot;</span>, <span class="stringliteral">&quot;representative_min&quot;</span>,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor">#endif // GF2_WITH_FULL_LINKAGE</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor"></span>                                                          };</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">//std::string                 patch_refit_mode_string = &quot;avg_dir&quot;;</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">//std::vector&lt;std::string&gt;    patch_refit_mode_opts   = { &quot;spatial&quot;, &quot;avg_dir&quot; };</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// parse input</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> ( err == EXIT_SUCCESS )</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordtype">bool</span> valid_input = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="comment">// cloud</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">if</span> ( (pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--cloud&quot;</span>, cloud_path) &lt; 0)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;             &amp;&amp; !boost::filesystem::exists( cloud_path ) )</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;--cloud does not exist: &quot;</span> &lt;&lt; cloud_path &lt;&lt; std::endl;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            valid_input = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="comment">// scale</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span> ( (pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--scale&quot;</span>, generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a>) &lt; 0) )</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;--scale is compulsory&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            valid_input = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--angle-limit&quot;</span>, generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#a7a1887ccfea503e1f7cc8882e774231f">angle_limit</a> );</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--angle-limit-div&quot;</span>, generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#acb0f416c125b74be47221a0eb117bbb6">angle_limit_div</a> );</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--patch-dist-limit&quot;</span>, generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#ac2ede42aac59593b6d19eb03639955e9">patch_dist_limit_mult</a> ); <span class="comment">// gets multiplied by scale</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--mode&quot;</span>, mode_string );</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#a6d923c38a3c5b62f6ad57e365c016d09">parsePatchDistMode</a>( mode_string );</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">if</span> ( pcl::console::find_switch( argc, argv, <span class="stringliteral">&quot;--patch-refit&quot;</span> ) )</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;--patch-refit option has been DEPRECATED. exiting.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">//pcl::console::parse_argument( argc, argv, &quot;--patch-refit&quot;, patch_refit_mode_string );</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">//generatorParams.parseRefitMode( patch_refit_mode_string );</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--angle-gen&quot;</span>, angle_gen );</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--patch-pop-limit&quot;</span>, generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aa92313337cd21986a6086eb08c06cbd2">patch_population_limit</a> );</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// print usage</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Usage:\t gurobi_opt --generate \n&quot;</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;\t --cloud &quot;</span> &lt;&lt; cloud_path &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;\t --scale &quot;</span> &lt;&lt; generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a>      &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="comment">// linkage mode (full_min, full_max, squared_min, repr_min)</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;\t [--mode *&quot;</span> &lt;&lt; generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#a250e7a620373964d77ff805f6c7efb09">printPatchDistMode</a>() &lt;&lt; <span class="stringliteral">&quot;*\t&quot;</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="compare_mosek_gurobi_8m.html#ab28bbea71e3faec8c14dd00b8733c8a9">m</a> = 0; <a class="code" href="compare_mosek_gurobi_8m.html#ab28bbea71e3faec8c14dd00b8733c8a9">m</a> != mode_opts.size(); ++<a class="code" href="compare_mosek_gurobi_8m.html#ab28bbea71e3faec8c14dd00b8733c8a9">m</a> )</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                std::cerr &lt;&lt; <span class="stringliteral">&quot;|&quot;</span> &lt;&lt; mode_opts[<a class="code" href="compare_mosek_gurobi_8m.html#ab28bbea71e3faec8c14dd00b8733c8a9">m</a>];</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="comment">// patch refit mode (spatial, avg_dir)</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">//            std::cerr &lt;&lt; &quot;\t [--patch-refit *&quot; &lt;&lt; generatorParams.printRefitMode() &lt;&lt; &quot;*\t&quot;;</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">//            for ( size_t m = 0; m != patch_refit_mode_opts.size(); ++m )</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">//                std::cerr &lt;&lt; &quot;|&quot; &lt;&lt; patch_refit_mode_opts[m];</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">//            std::cerr &lt;&lt; &quot;]\n&quot;;</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;\t [--angle-limit &quot;</span> &lt;&lt; generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#a7a1887ccfea503e1f7cc8882e774231f">angle_limit</a> &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;\t [--angle-limit-div &quot;</span> &lt;&lt; generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#acb0f416c125b74be47221a0eb117bbb6">angle_limit_div</a> &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;\t [--patch-dist-limit &quot;</span> &lt;&lt; generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#ac2ede42aac59593b6d19eb03639955e9">patch_dist_limit_mult</a> &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;\t [--angle-gen &quot;</span> &lt;&lt; angle_gen &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;\t [--patch-pop-limit &quot;</span> &lt;&lt; generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aa92313337cd21986a6086eb08c06cbd2">patch_population_limit</a> &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            std::cerr &lt;&lt; std::endl;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">if</span> ( !valid_input || pcl::console::find_switch(argc,argv,<span class="stringliteral">&quot;--help&quot;</span>) || pcl::console::find_switch(argc,argv,<span class="stringliteral">&quot;-h&quot;</span>) )</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">if</span> ( boost::filesystem::is_directory(cloud_path) )</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            cloud_path += <span class="stringliteral">&quot;/cloud.ply&quot;</span>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">if</span> ( !boost::filesystem::exists(cloud_path) )</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;cloud file does not exist! &quot;</span> &lt;&lt; cloud_path &lt;&lt; std::endl;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    } <span class="comment">// ... parse input</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// Read desired angles</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a> = { <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>(0) };</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="comment">// generate</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">for</span> ( <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a> angle = angle_gen; angle &lt; M_PI; angle+= angle_gen )</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a>.push_back( angle );</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a>.push_back( M_PI );</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">// print</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Desired angles: {&quot;</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>=0;<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>!=generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a>.size();++<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            std::cout &lt;&lt; generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a>[<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>] &lt;&lt; ((<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>==generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a>.size()-1) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    } <span class="comment">//...read angles</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// Read points</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a84e8a6d62d98e61d3edb2f5f10116048">PointContainerT</a> <a class="code" href="globfit_8m.html#ab9a89211ecb71d18bbd259853fda1c54">points</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        err = io::readPoints&lt;PointPrimitiveT&gt;( <a class="code" href="globfit_8m.html#ab9a89211ecb71d18bbd259853fda1c54">points</a>, cloud_path );</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">if</span> ( err != EXIT_SUCCESS )  std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;readPoints returned error &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    } <span class="comment">//...read points</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">//_____________________WORK_______________________</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">//_______________________________________________</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// orientPoints</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        err = Segmentation::orientPoints&lt;PointPrimitiveT,PrimitiveT&gt;( <a class="code" href="globfit_8m.html#ab9a89211ecb71d18bbd259853fda1c54">points</a>, generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a>, generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#a961cb3b2007b17476026e82b833978ef">nn_K</a> );</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">if</span> ( err != EXIT_SUCCESS ) std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;orientPoints exited with error! Code: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    } <span class="comment">//...orientPoints</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a33395c45075ba3ccfcb4cc2a9cfe1905">PrimitiveContainerT</a> initial_primitives;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">switch</span> ( generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#aa5da1cdf35c2e2b2ff15fb267c45324d">patch_dist_mode</a> )</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#if GF2_WITH_FULL_LINKAGE</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor"></span>            <span class="keywordflow">case</span> <a class="code" href="struct_g_f2_1_1_candidate_generator_params.html">CandidateGeneratorParams&lt;Scalar&gt;::FULL_MIN</a>:</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <span class="comment">// &quot;full min&quot;: merge minimum largest angle between any two points, IF smallest spatial distance between points &lt; scale * patch_dist_limit</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                FullLinkagePatchPatchDistanceFunctorT&lt;Scalar, SpatialPatchPatchMinDistanceFunctorT&lt;Scalar&gt;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                                     &gt; patchPatchDistanceFunctor( generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#ac2ede42aac59593b6d19eb03639955e9">patch_dist_limit_mult</a> * generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                                                                , generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#a7a1887ccfea503e1f7cc8882e774231f">angle_limit</a></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                                                                , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a> );</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                err = Segmentation::patchify&lt;PrimitiveT&gt;( initial_primitives           <span class="comment">// tagged lines at GID with patch_id</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                                            , points                <span class="comment">// filled points with directions and tagged at GID with patch_id</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                            , patchPatchDistanceFunctor</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                            );</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="struct_g_f2_1_1_candidate_generator_params.html">CandidateGeneratorParams&lt;Scalar&gt;::FULL_MAX</a>:</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="comment">// &quot;full max&quot;: merge minimum largest angle between any two points, IF biggest spatial distance between points &lt; scale * patch_dist_limit</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                FullLinkagePatchPatchDistanceFunctorT&lt;Scalar, SpatialPatchPatchMaxDistanceFunctorT&lt;Scalar&gt;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                                     &gt; patchPatchDistanceFunctor( generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#ac2ede42aac59593b6d19eb03639955e9">patch_dist_limit_mult</a> * generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                                                                , generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#a7a1887ccfea503e1f7cc8882e774231f">angle_limit</a></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                                                                , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a> );</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                err = Segmentation::patchify&lt;PrimitiveT&gt;( initial_primitives           <span class="comment">// tagged lines at GID with patch_id</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                            , points                <span class="comment">// filled points with directions and tagged at GID with patch_id</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                            , patchPatchDistanceFunctor</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                            );</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="struct_g_f2_1_1_candidate_generator_params.html">CandidateGeneratorParams&lt;Scalar&gt;::SQR_MIN</a>:</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="comment">// &quot;squared min&quot;: merge minimum, &quot;max_angle^2 + (pi^2 / 4scale^2) * min_distance&quot;, IF smallest spatial distance between points &lt; scale * patch_dist_limit. NOTE: use angle_thresh = 1..5</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                SquaredPatchPatchDistanceFunctorT&lt;Scalar, SpatialPatchPatchMinDistanceFunctorT&lt;Scalar&gt;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                                 &gt; patchPatchDistanceFunctor( generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#ac2ede42aac59593b6d19eb03639955e9">patch_dist_limit_mult</a> * generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#a7a1887ccfea503e1f7cc8882e774231f">angle_limit</a></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                                                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a> );</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                err = Segmentation::patchify&lt;PrimitiveT&gt;( initial_primitives           <span class="comment">// tagged lines at GID with patch_id</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                            , points                <span class="comment">// filled points with directions and tagged at GID with patch_id</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                            , patchPatchDistanceFunctor</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                                            );</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="struct_g_f2_1_1_candidate_generator_params.html">CandidateGeneratorParams&lt;Scalar&gt;::REPR_MIN</a>:</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <span class="comment">// &quot;representative min:&quot; merge closest representative angles, IF smallest spatial distance between points &lt; scale * patch_dist_limit.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                RepresentativePatchPatchDistanceFunctorT&lt; Scalar,SpatialPatchPatchMinDistanceFunctorT&lt;Scalar&gt;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                                        &gt; patchPatchDistanceFunctor( generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#ac2ede42aac59593b6d19eb03639955e9">patch_dist_limit_mult</a> * generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                                                                   , generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#a7a1887ccfea503e1f7cc8882e774231f">angle_limit</a></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                                                                   , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a> );</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                err = Segmentation::patchify&lt;PrimitiveT&gt;( initial_primitives           <span class="comment">// tagged lines at GID with patch_id</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                            , points                <span class="comment">// filled points with directions and tagged at GID with patch_id</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                                            , patchPatchDistanceFunctor</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                                            );</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="preprocessor">#endif // GF2_WITH_FULL_LINKAGE</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="preprocessor"></span>            <span class="keywordflow">case</span> <a class="code" href="struct_g_f2_1_1_candidate_generator_params.html">CandidateGeneratorParams&lt;Scalar&gt;::REPR_SQR</a>:</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                <span class="comment">// &quot;representative min:&quot; merge closest representative angles, IF smallest spatial distance between points &lt; scale * patch_dist_limit.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <a class="code" href="struct_g_f2_1_1_representative_sqr_patch_patch_distance_functor_t.html">RepresentativeSqrPatchPatchDistanceFunctorT&lt; Scalar,SpatialPatchPatchSingleDistanceFunctorT&lt;Scalar&gt;</a></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                                                        &gt; patchPatchDistanceFunctor( generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a> * generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#ac2ede42aac59593b6d19eb03639955e9">patch_dist_limit_mult</a></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                                                                   , generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#a7a1887ccfea503e1f7cc8882e774231f">angle_limit</a></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                                                                   , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                                                                   , generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#aca171dc5b21762fff8cde4c504ccdf42">patch_spatial_weight</a> );</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                err = Segmentation::patchify&lt;PrimitiveT&gt;( initial_primitives    <span class="comment">// tagged lines at GID with patch_id</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                            , points                            <span class="comment">// filled points with directions and tagged at GID with patch_id</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                                            , patchPatchDistanceFunctor</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                                            , generatorParams.<a class="code" href="struct_g_f2_1_1_candidate_generator_params.html#a961cb3b2007b17476026e82b833978ef">nn_K</a></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                            );</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                std::cerr &lt;&lt; <span class="stringliteral">&quot;unknown patch patch distance mode!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                err = EXIT_FAILURE;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">if</span> ( err != EXIT_SUCCESS ) std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;patchify exited with error! Code: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// Generate</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a33395c45075ba3ccfcb4cc2a9cfe1905">PrimitiveContainerT</a> <a class="code" href="globfit_8m.html#a9ff4428a460ac699d709dcab2350626b">primitives</a>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        err = CandidateGenerator::generate&lt; MyPrimitivePrimitiveAngleFunctor &gt;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                          ( <a class="code" href="globfit_8m.html#a9ff4428a460ac699d709dcab2350626b">primitives</a>, initial_primitives, <a class="code" href="globfit_8m.html#ab9a89211ecb71d18bbd259853fda1c54">points</a>, generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">scale</a>, generatorParams.<a class="code" href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">angles</a>, generatorParams );</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">if</span> ( err != EXIT_SUCCESS ) std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;generate exited with error! Code: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    } <span class="comment">//...generate</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// Save point GID tags</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        std::string assoc_path = <a class="code" href="function__handle_8m.html#a03d2a3685385f82943527be28e035ad9">boost::filesystem::path</a>( cloud_path ).parent_path().string() + <span class="stringliteral">&quot;/&quot;</span> + <span class="stringliteral">&quot;points_primitives.txt&quot;</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="namespace_g_f2_1_1util.html#a76af03f83085374160be9ba6570d1955">util::saveBackup</a>( assoc_path );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        err = io::writeAssociations&lt;PointPrimitiveT&gt;( <a class="code" href="globfit_8m.html#ab9a89211ecb71d18bbd259853fda1c54">points</a>, assoc_path );</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">if</span> ( err != EXIT_SUCCESS )  std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;saveBackup or writeAssociations exited with error! Code: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">else</span>                        std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;wrote to &quot;</span> &lt;&lt; assoc_path &lt;&lt; std::endl;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    } <span class="comment">//...save Associations</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// save primitives</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        std::string candidates_path = <a class="code" href="function__handle_8m.html#a03d2a3685385f82943527be28e035ad9">boost::filesystem::path</a>( cloud_path ).parent_path().string() + <span class="stringliteral">&quot;/&quot;</span> + <span class="stringliteral">&quot;candidates.txt&quot;</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="namespace_g_f2_1_1util.html#a76af03f83085374160be9ba6570d1955">util::saveBackup</a>( candidates_path );</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        err = io::savePrimitives&lt;PrimitiveT,typename PrimitiveContainerT::value_type::const_iterator&gt;( <span class="comment">/* what: */</span> <a class="code" href="globfit_8m.html#a9ff4428a460ac699d709dcab2350626b">primitives</a>, <span class="comment">/* where_to: */</span> candidates_path );</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">if</span> ( err != EXIT_SUCCESS )  std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;saveBackup or savePrimitive exited with error! Code: &quot;</span> &lt;&lt; err &lt;&lt; std::endl;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">else</span>                        std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;wrote to &quot;</span> &lt;&lt; candidates_path &lt;&lt; std::endl;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    } <span class="comment">//...save primitives</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;} <span class="comment">// ...Solver::generate()</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html#a5e7cc6867880ad093d96bbcc610890ce">  426</a></span>&#160;<a class="code" href="class_g_f2_1_1_solver.html#a5e7cc6867880ad093d96bbcc610890ce">Solver::solve</a>( <span class="keywordtype">int</span>    argc</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;             , <span class="keywordtype">char</span>** argv )</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;{</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordtype">int</span>                                   err           = EXIT_SUCCESS;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordtype">bool</span>                                  verbose       = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keyword">enum</span> SOLVER { MOSEK, BONMIN, GUROBI } solver        = MOSEK;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    std::string                           project_path  = <span class="stringliteral">&quot;problem&quot;</span>, solver_str = <span class="stringliteral">&quot;bonmin&quot;</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>                                max_time      = 360;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordtype">int</span>                                   bmode         = 0; <span class="comment">// Bonmin solver mode, B_Bb by default</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    std::string                           rel_out_path  = <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// parse</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordtype">bool</span> valid_input = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="comment">// verbose parsing</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">if</span> ( pcl::console::find_switch(argc,argv,<span class="stringliteral">&quot;-v&quot;</span>) || pcl::console::find_switch(argc,argv,<span class="stringliteral">&quot;--verbose&quot;</span>) )</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            verbose = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="comment">// solver parsing</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="comment">//std::string solver_str = &quot;bonmin&quot;;</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        valid_input &amp;= pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--solver&quot;</span>, solver_str) &gt;= 0;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                 <span class="keywordflow">if</span> ( !solver_str.compare(<span class="stringliteral">&quot;mosek&quot;</span>)  ) solver = MOSEK;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !solver_str.compare(<span class="stringliteral">&quot;bonmin&quot;</span>) ) solver = BONMIN;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !solver_str.compare(<span class="stringliteral">&quot;gurobi&quot;</span>) ) solver = GUROBI;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Cannot parse solver &quot;</span> &lt;&lt; solver_str &lt;&lt; std::endl;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                valid_input = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">#           ifndef GF2_WITH_BONMIN</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor"></span>                 <span class="keywordflow">if</span> ( solver == BONMIN )</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                     <span class="keywordflow">throw</span> <span class="keyword">new</span> std::runtime_error(<span class="stringliteral">&quot;You have to specify a different solver, the project was not compiled with Bonmin enabled!&quot;</span>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="preprocessor">#           endif // WITH_BONMIN</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#           ifndef GF2_WITH_MOSEK</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="preprocessor"></span>                 <span class="keywordflow">if</span> ( solver == MOSEK )</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                     <span class="keywordflow">throw</span> <span class="keyword">new</span> std::runtime_error(<span class="stringliteral">&quot;You have to specify a different solver, the project was not compiled with Mosek enabled!&quot;</span>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="preprocessor">#           endif // WITH_MOSEK</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#           ifndef GF2_WITH_GUROBI</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="preprocessor"></span>                 <span class="keywordflow">if</span> ( solver == GUROBI )</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                     <span class="keywordflow">throw</span> <span class="keyword">new</span> std::runtime_error(<span class="stringliteral">&quot;You have to specify a different solver, the project was not compiled with GUROBI enabled!&quot;</span>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="preprocessor">#           endif // WITH_GUROBI</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor"></span>        }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="comment">// problem parsing</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--problem&quot;</span>, project_path );</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="comment">// parse time</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--time&quot;</span>, max_time );</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="comment">// parse bonmin solver mode</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--bmode&quot;</span>, bmode );</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--rod&quot;</span>  , rel_out_path );</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="comment">// usage print</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Usage:\t gurobi_opt\n&quot;</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\t--solver *&quot;</span> &lt;&lt; solver_str &lt;&lt; <span class="stringliteral">&quot;* (mosek | bonmin | gurobi)\n&quot;</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\t--problem &quot;</span> &lt;&lt; project_path &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\t[--time] &quot;</span> &lt;&lt; max_time &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\t[--bmode *&quot;</span> &lt;&lt; bmode &lt;&lt; <span class="stringliteral">&quot;*\n&quot;</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot;\t\t0 = B_BB, Bonmin\&#39;s Branch-and-bound \n&quot;</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot;\t\t1 = B_OA, Bonmin\&#39;s Outer Approximation Decomposition\n&quot;</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot;\t\t2 = B_QG, Bonmin&#39;s Quesada &amp; Grossmann branch-and-cut\n&quot;</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot;\t\t3 = B_Hyb Bonmin&#39;s hybrid outer approximation\n&quot;</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot;\t\t4 = B_Ecp Bonmin&#39;s implemantation of ecp cuts based branch-and-cut a la FilMINT\n&quot;</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot;\t\t5 = B_IFP Bonmin&#39;s implemantation of iterated feasibility pump for MINLP]\n&quot;</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\t[--verbose] &quot;</span> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\t[--rod &quot;</span> &lt;&lt; rel_out_path &lt;&lt; <span class="stringliteral">&quot;]\t\t Relative output directory\n&quot;</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\t[--help, -h] &quot;</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                  &lt;&lt; std::endl;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="comment">// valid_input</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">if</span> ( !valid_input || pcl::console::find_switch(argc,argv,<span class="stringliteral">&quot;--help&quot;</span>) || pcl::console::find_switch(argc,argv,<span class="stringliteral">&quot;-h&quot;</span>) )</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;--solver is compulsory&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            err = EXIT_FAILURE;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        } <span class="comment">//...if valid_input</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    } <span class="comment">//...parse</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// select solver</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keyword">typedef</span> <span class="keywordtype">double</span> OptScalar; <span class="comment">// Mosek, and Bonmin uses double internally, so that&#39;s what we have to do...</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keyword">typedef</span> qcqpcpp::OptProblem&lt;OptScalar&gt; <a class="code" href="namespace_g_f2_1_1problem_setup.html#a22d94ef9bbac504c10480be5922bc805">OptProblemT</a>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    OptProblemT *p_problem = NULL;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">switch</span> ( solver )</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="keywordflow">case</span> MOSEK:</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                p_problem = <span class="keyword">new</span> qcqpcpp::MosekOpt&lt;OptScalar&gt;( <span class="comment">/* env: */</span> NULL );</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordflow">case</span> BONMIN:</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                p_problem = <span class="keyword">new</span> qcqpcpp::BonminOpt&lt;OptScalar&gt;();</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Unrecognized solver type, exiting&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                err = EXIT_FAILURE;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        } <span class="comment">//...switch</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    } <span class="comment">//...select solver</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="comment">// problem.read()</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        err += p_problem-&gt;read( project_path );</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">if</span> ( EXIT_SUCCESS != err )</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Could not read problem, exiting&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    } <span class="comment">//...problem.read()</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// problem.parametrize()</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">if</span> ( max_time &gt; 0 )</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            p_problem-&gt;setTimeLimit( max_time );</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">if</span> ( solver == BONMIN )</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="preprocessor">#           ifdef WITH_BONMIN</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="preprocessor"></span>            <span class="keyword">static_cast&lt;</span>qcqpcpp::BonminOpt&lt;OptScalar&gt;*<span class="keyword">&gt;</span>(p_problem)-&gt;setAlgorithm( Bonmin::Algorithm(bmode) );</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="preprocessor">#           endif // WITH_BONMIN</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor"></span>        }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// problem.update()</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    OptProblemT::ReturnType <a class="code" href="write_q_8m.html#a10d07efd5ac1cb47cf2972c3ef20c28e">r</a> = 0;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">// log</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">if</span> ( verbose ) { std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;calling problem update...&quot;</span>; fflush(stdout); }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="comment">// update</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        r = p_problem-&gt;update();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="comment">// check output</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">if</span> ( r != MSK_RES_OK )</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;ooo...update didn&#39;t work with code &quot;</span> &lt;&lt; r &lt;&lt; std::endl;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            err = EXIT_FAILURE;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="comment">// log</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span> ( verbose ) { std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;problem update finished\n&quot;</span>; fflush(stdout); }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    } <span class="comment">//...problem.update()</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">// problem.optimize()</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="comment">// optimize</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        std::vector&lt;OptScalar&gt; x_out;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">if</span> ( r == p_problem-&gt;getOkCode() )</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="comment">// log</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keywordflow">if</span> ( verbose ) { std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;calling problem optimize...\n&quot;</span>; fflush(stdout); }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="comment">// work</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            r = p_problem-&gt;optimize( &amp;x_out, OptProblemT::OBJ_SENSE::MINIMIZE );</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="comment">// check output</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">if</span> ( r != p_problem-&gt;getOkCode() )</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;ooo...optimize didn&#39;t work with code &quot;</span> &lt;&lt; r &lt;&lt; std::endl; fflush(stderr);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                err = <a class="code" href="write_q_8m.html#a10d07efd5ac1cb47cf2972c3ef20c28e">r</a>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        } <span class="comment">//...optimize</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="comment">// copy output</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        std::vector&lt;Scalar&gt; scalar_x_out( x_out.size() );</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">if</span> ( EXIT_SUCCESS == err )</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="comment">// copy</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            std::copy( x_out.begin(), x_out.end(), scalar_x_out.begin() );</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="comment">// print energy</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">//            checkSolution( scalar_x_out</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">//                           , p_problem-&gt;getLinObjectivesMatrix().cast&lt;Scalar&gt;()</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">//                           , p_problem-&gt;getQuadraticObjectivesMatrix().cast&lt;Scalar&gt;()</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">//                           , p_problem-&gt;getLinConstraintsMatrix().cast&lt;Scalar&gt;()</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">//                           , weights );</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        } <span class="comment">//...copy output</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="comment">// dump</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                std::string x_path = project_path + <span class="stringliteral">&quot;/x.csv&quot;</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                OptProblemT::SparseMatrix sp_x( x_out.size(), 1 ); <span class="comment">// output colvector</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a> = 0; <a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a> != x_out.size(); ++<a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a> )</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    <span class="keywordflow">if</span> ( <span class="keywordtype">int</span>(round(x_out[<a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a>])) &gt; 0 )</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                        sp_x.insert(i,0) = x_out[<a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a>];</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                qcqpcpp::io::writeSparseMatrix&lt;OptScalar&gt;( sp_x, x_path, 0 );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;wrote output to &quot;</span> &lt;&lt; x_path &lt;&lt; std::endl;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            std::string candidates_path;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <span class="keywordflow">if</span> ( pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--candidates&quot;</span>, candidates_path ) &gt;= 0 )</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                <span class="comment">// read primitives</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                <a class="code" href="class_g_f2_1_1_solver.html#a33395c45075ba3ccfcb4cc2a9cfe1905">PrimitiveContainerT</a> <a class="code" href="lp_8m.html#ae8954d9790c81e762964bce1b5bcda08">prims</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                    <span class="keywordflow">if</span> ( verbose ) std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;reading primitives from &quot;</span> &lt;&lt; candidates_path &lt;&lt; <span class="stringliteral">&quot;...&quot;</span>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                    io::readPrimitives&lt;PrimitiveT, typename PrimitiveContainerT::value_type&gt;( <a class="code" href="lp_8m.html#ae8954d9790c81e762964bce1b5bcda08">prims</a>, candidates_path );</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    <span class="keywordflow">if</span> ( verbose ) std::cout &lt;&lt; <span class="stringliteral">&quot;reading primitives ok\n&quot;</span>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                } <span class="comment">//...read primitives</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                <span class="comment">// save selected primitives</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                <a class="code" href="class_g_f2_1_1_solver.html#a33395c45075ba3ccfcb4cc2a9cfe1905">PrimitiveContainerT</a> out_prims( 1 );</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <span class="keywordtype">int</span> prim_id = 0;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="fmincon__merged_8m.html#abefa2be7688c37629d024a146e8a3b5e">l</a> = 0; <a class="code" href="fmincon__merged_8m.html#abefa2be7688c37629d024a146e8a3b5e">l</a> != prims.size(); ++<a class="code" href="fmincon__merged_8m.html#abefa2be7688c37629d024a146e8a3b5e">l</a> )</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> l1 = 0; l1 != prims[<a class="code" href="fmincon__merged_8m.html#abefa2be7688c37629d024a146e8a3b5e">l</a>].size(); ++l1, ++prim_id )</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                    {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                        <span class="keywordflow">if</span> ( <span class="keywordtype">int</span>(round(x_out[prim_id])) &gt; 0 )</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                        {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                            std::cout &lt;&lt; <span class="stringliteral">&quot;saving &quot;</span> &lt;&lt; <a class="code" href="fmincon__merged_8m.html#abefa2be7688c37629d024a146e8a3b5e">l</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; l1 &lt;&lt; <span class="stringliteral">&quot;, X: &quot;</span> &lt;&lt; x_out[prim_id] &lt;&lt; std::endl;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                            out_prims.back().push_back( prims[<a class="code" href="fmincon__merged_8m.html#abefa2be7688c37629d024a146e8a3b5e">l</a>][l1] );</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                        }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                    } <span class="comment">// ... for l1</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                std::string parent_path = <a class="code" href="function__handle_8m.html#a03d2a3685385f82943527be28e035ad9">boost::filesystem::path</a>(candidates_path).parent_path().string();</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                <span class="keywordflow">if</span> ( parent_path.empty() )  parent_path = <span class="stringliteral">&quot;./&quot;</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="keywordflow">else</span>                        parent_path += <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                std::string out_prim_path = parent_path + rel_out_path + <span class="stringliteral">&quot;/primitives.&quot;</span> + solver_str + <span class="stringliteral">&quot;.txt&quot;</span>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <a class="code" href="namespace_g_f2_1_1util.html#a76af03f83085374160be9ba6570d1955">util::saveBackup</a>    ( out_prim_path );</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                io::savePrimitives&lt;PrimitiveT, PrimitiveContainerT::value_type::const_iterator&gt;( out_prims, out_prim_path, <span class="comment">/* verbose: */</span> true );</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            } <span class="comment">// if --candidates</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;You didn&#39;t provide candidates, could not save primitives&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            } <span class="comment">// it no --candidates</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    } <span class="comment">//...problem.optimize()</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">if</span> ( p_problem ) { <span class="keyword">delete</span> p_problem; p_problem = NULL; }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;}</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html#abb12460e745a38fc70baf4603e32a95a">  667</a></span>&#160;<a class="code" href="class_g_f2_1_1_solver.html#abb12460e745a38fc70baf4603e32a95a">Solver::datafit</a>( <span class="keywordtype">int</span>    argc</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;               , <span class="keywordtype">char</span>** argv )</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;{</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>                  <a class="code" href="globfit_8m.html#a3d6cbfbc95fcc0bac7015e7f5743e466">scale</a>           = 0.05f;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    std::string             cloud_path      = <span class="stringliteral">&quot;cloud.ply&quot;</span>,</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                            primitives_path = <span class="stringliteral">&quot;candidates.txt&quot;</span>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>                  angle_gen       = M_PI_2;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordtype">bool</span>                    verbose         = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">// parse params</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordtype">bool</span> valid_input = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        valid_input &amp;= pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--scale&quot;</span>     , scale          ) &gt;= 0;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        valid_input &amp;= pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--cloud&quot;</span>     , cloud_path     ) &gt;= 0;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        valid_input &amp;= pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--primitives&quot;</span>, primitives_path) &gt;= 0;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        pcl::console::parse_argument( argc, argv, <span class="stringliteral">&quot;--angle-gen&quot;</span>, angle_gen );</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">if</span> ( pcl::console::find_switch(argc,argv,<span class="stringliteral">&quot;-v&quot;</span>) || pcl::console::find_switch(argc,argv,<span class="stringliteral">&quot;--verbose&quot;</span>) )</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            verbose = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Usage:\t gurobi_opt --gfit\n&quot;</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\t--scale &quot;</span> &lt;&lt; scale &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\t--cloud &quot;</span> &lt;&lt; cloud_path &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\t--primitives &quot;</span> &lt;&lt; primitives_path &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\t[--angle-gen &quot;</span> &lt;&lt; angle_gen &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                  &lt;&lt; std::endl;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordflow">if</span> ( !valid_input || pcl::console::find_switch(argc,argv,<span class="stringliteral">&quot;--help&quot;</span>) || pcl::console::find_switch(argc,argv,<span class="stringliteral">&quot;-h&quot;</span>) )</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;--scale, --cloud and --candidates are compulsory&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    } <span class="comment">// ... parse params</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">// read points</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a84e8a6d62d98e61d3edb2f5f10116048">PointContainerT</a>     <a class="code" href="globfit_8m.html#ab9a89211ecb71d18bbd259853fda1c54">points</a>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">if</span> ( verbose ) std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;reading cloud from &quot;</span> &lt;&lt; cloud_path &lt;&lt; <span class="stringliteral">&quot;...&quot;</span>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        io::readPoints&lt;PointPrimitiveT&gt;( <a class="code" href="globfit_8m.html#ab9a89211ecb71d18bbd259853fda1c54">points</a>, cloud_path );</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordflow">if</span> ( verbose ) std::cout &lt;&lt; <span class="stringliteral">&quot;reading cloud ok\n&quot;</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    } <span class="comment">//...read points</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="comment">// read primitives</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a33395c45075ba3ccfcb4cc2a9cfe1905">PrimitiveContainerT</a> <a class="code" href="lp_8m.html#ae8954d9790c81e762964bce1b5bcda08">prims</a>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordflow">if</span> ( verbose ) std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;reading primitives from &quot;</span> &lt;&lt; primitives_path &lt;&lt; <span class="stringliteral">&quot;...&quot;</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        io::readPrimitives&lt;PrimitiveT, typename PrimitiveContainerT::value_type&gt;( <a class="code" href="lp_8m.html#ae8954d9790c81e762964bce1b5bcda08">prims</a>, primitives_path );</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">if</span> ( verbose ) std::cout &lt;&lt; <span class="stringliteral">&quot;reading primitives ok\n&quot;</span>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    } <span class="comment">//...read primitives</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// Read desired angles</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    std::vector&lt;Scalar&gt; angles = { <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>(0) };</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">for</span> ( <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a> angle = angle_gen; angle &lt; M_PI; angle+= angle_gen )</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            angles.push_back( angle );</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        angles.push_back( M_PI );</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Desired angles: {&quot;</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>=0;<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>!=angles.size();++<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            std::cout &lt;&lt; angles[<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>] &lt;&lt; ((<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>==angles.size()-1) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;, &quot;</span>);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    } <span class="comment">// ... read angles</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="preprocessor"></span>    <span class="comment">// WORK</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="globfit_8m.html#a59cd6a1194eac609179091dc9dcc724b">Dim</a> = 2; <span class="comment">// 2: nx,ny, 3: +nz</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> PrimitiveContainerT::value_type::value_type <a class="code" href="class_g_f2_1_1_solver.html#a59d72ae46dcc288c6043505580b9c0dc">PrimitiveT</a>;        <span class="comment">// LinePrimitive or PlanePrimitive</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keyword">typedef</span> <span class="keyword">typename</span> PointContainerT::value_type                 <a class="code" href="class_g_f2_1_1_solver.html#a469309bf22484766411f134ced98d4b5">PointPrimitiveT</a>;   <span class="comment">// PointPrimitive to store oriented points</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordtype">bool</span> gurobi_log = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        std::vector&lt;std::pair&lt;std::string,Scalar&gt; &gt;     starting_values;    <span class="comment">// [var_id] = &lt; var_name, x0 &gt;</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        std::vector&lt; std::vector&lt;std::pair&lt;int,int&gt; &gt; &gt; points_primitives;  <span class="comment">// each point is associated to a few { &lt;lid,lid1&gt;_0, &lt;lid,lid1&gt;_1 ... } primitives</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        std::map&lt; std::pair&lt;int,int&gt;, <span class="keywordtype">int</span> &gt;             prims_vars;         <span class="comment">// &lt; &lt;lid,lid1&gt;, var_id &gt;, associates primitives to variables</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keywordtype">char</span>                                            name[255];          <span class="comment">// variable name</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keyword">const</span> Eigen::Matrix&lt;Scalar,3,1&gt; origin( Eigen::Matrix&lt;Scalar,3,1&gt;::Zero() ); <span class="comment">// to calculate d</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="comment">// add costs</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> = 0; <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> != prims.size(); ++<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> )</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> lid1 = 0; lid1 != prims[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>].size(); ++lid1 )</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                    <span class="comment">// add var</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> gid     = prims[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1].getTag( <a class="code" href="class_g_f2_1_1_line_primitive2.html#a66f2b9e27bc70ff50837a2bb0be70f26aedf35fcfdef8fdd420c26fdc58547944">PrimitiveT::GID</a>     ); <span class="comment">//lid;</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> dir_gid = prims[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1].getTag( <a class="code" href="class_g_f2_1_1_line_primitive2.html#a66f2b9e27bc70ff50837a2bb0be70f26ae4abdcc63cf77d2c9a2dac0b7daac6bc">PrimitiveT::DIR_GID</a> ); <span class="comment">//lid1;</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                    Eigen::Matrix&lt;Scalar,3,1&gt; <a class="code" href="globfit_8m.html#a4577dc1b6b515e196385b5f8b19093c1">normal</a> = prims[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1].template normal&lt;Scalar&gt;();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                    std::cout &lt;&lt; <span class="stringliteral">&quot;line_&quot;</span> &lt;&lt; gid &lt;&lt; <span class="stringliteral">&quot;_&quot;</span> &lt;&lt; dir_gid &lt;&lt; <span class="stringliteral">&quot;.n = &quot;</span> &lt;&lt; normal.transpose() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                    vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>].emplace_back( std::vector&lt;GRBVar&gt;() );</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                    sprintf( name, <span class="stringliteral">&quot;nx_%d_%d&quot;</span>, gid, dir_gid );</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                    <span class="comment">//vars[lid].back().emplace_back( model.addVar(-GRB_INFINITY, GRB_INFINITY, normal(0), GRB_CONTINUOUS, name) );</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>].back().emplace_back( <a class="code" href="test__fmincon_8m.html#a7b9e84336c0608fb11ded2d23672137d">model</a>.addVar(-GRB_INFINITY, GRB_INFINITY, 0.0, GRB_CONTINUOUS, name) );</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                    starting_values.push_back( std::pair&lt;std::string,Scalar&gt;(name,<a class="code" href="globfit_8m.html#a4577dc1b6b515e196385b5f8b19093c1">normal</a>(0)) );</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    sprintf( name, <span class="stringliteral">&quot;ny_%d_%d&quot;</span>, gid, dir_gid );</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                    vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>].back().emplace_back( <a class="code" href="test__fmincon_8m.html#a7b9e84336c0608fb11ded2d23672137d">model</a>.addVar(-GRB_INFINITY, GRB_INFINITY, 0.0, GRB_CONTINUOUS, name) );</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                    starting_values.push_back( std::pair&lt;std::string,Scalar&gt;(name,<a class="code" href="globfit_8m.html#a4577dc1b6b515e196385b5f8b19093c1">normal</a>(1)) );</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                    <span class="comment">//vars[lid].back().emplace_back( model.addVar(-GRB_INFINITY, GRB_INFINITY, normal(1), GRB_CONTINUOUS, name) );</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    <span class="keywordflow">if</span> ( Dim &gt; 2 )</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                    {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                        sprintf( name, <span class="stringliteral">&quot;nz_%d_%d&quot;</span>, gid, dir_gid );</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                        <span class="comment">//vars[lid].back().emplace_back( model.addVar(-GRB_INFINITY, GRB_INFINITY, normal(2), GRB_CONTINUOUS, name) );</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                        vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>].back().emplace_back( <a class="code" href="test__fmincon_8m.html#a7b9e84336c0608fb11ded2d23672137d">model</a>.addVar(-GRB_INFINITY, GRB_INFINITY, 0.0, GRB_CONTINUOUS, name) );</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                        starting_values.push_back( std::pair&lt;std::string,Scalar&gt;(name,<a class="code" href="globfit_8m.html#a4577dc1b6b515e196385b5f8b19093c1">normal</a>(2)) );</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                    }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                    sprintf( name, <span class="stringliteral">&quot;d_%d_%d&quot;</span>, gid, dir_gid );</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a> <a class="code" href="fmincon__merged_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a> = <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>(-1) * prims[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1].point3Distance(origin);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                    std::cout &lt;&lt; <span class="stringliteral">&quot;line_&quot;</span> &lt;&lt; gid &lt;&lt; <span class="stringliteral">&quot;_&quot;</span> &lt;&lt; dir_gid &lt;&lt; <span class="stringliteral">&quot;.d = &quot;</span> &lt;&lt; d &lt;&lt; std::endl;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                    <span class="comment">// vars[lid].back().emplace_back( model.addVar(-GRB_INFINITY, GRB_INFINITY, lines[lid][lid1].point3Distance(origin), GRB_CONTINUOUS, name) );</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                    vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>].back().emplace_back( <a class="code" href="test__fmincon_8m.html#a7b9e84336c0608fb11ded2d23672137d">model</a>.addVar(-GRB_INFINITY, GRB_INFINITY, 0.0, GRB_CONTINUOUS, name) );</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                    starting_values.push_back( std::pair&lt;std::string,Scalar&gt;(name,d) );</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <span class="comment">// |normal|^2 = 1</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <span class="keywordtype">char</span> cname[64];</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> = 0; <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> != prims.size(); ++<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> )</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> lid1 = 0; lid1 != prims[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>].size(); ++lid1 )</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                    {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                        GRBQuadExpr norm_constraint;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="fmincon__merged_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a> = 0; <a class="code" href="fmincon__merged_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a> != <a class="code" href="globfit_8m.html#a59cd6a1194eac609179091dc9dcc724b">Dim</a>; ++<a class="code" href="fmincon__merged_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a> )</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                            norm_constraint.addTerm( <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>(1), vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1][<a class="code" href="fmincon__merged_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a>], vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1][d] );</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                        sprintf( cname, <span class="stringliteral">&quot;%lu_%lu_norm_ge&quot;</span>, <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>, lid1 );</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                        <a class="code" href="test__fmincon_8m.html#a7b9e84336c0608fb11ded2d23672137d">model</a>.addQConstr( norm_constraint, GRB_EQUAL, 1, cname );</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                    }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            <a class="code" href="test__fmincon_8m.html#a7b9e84336c0608fb11ded2d23672137d">model</a>.update();</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <span class="comment">// assignments</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <span class="keywordflow">if</span> ( points_primitives.size() )</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                std::cerr &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;warning, points_primitives not empty&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="comment">// parse input associations instead of currently detecting point-&gt;primitive assocs</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                <span class="keywordtype">int</span> max_group_id = -1;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> = 0; <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> != points.size(); ++<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> )</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                    max_group_id = std::max( max_group_id, points[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>].getTag(<a class="code" href="class_g_f2_1_1_point_primitive.html#adac543bf5f7b4b639dda512ddb5c95b0a5b70cf743ab33511651dbd93d58ca166">PointPrimitiveT::GID</a>) );</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;max_group_id: &quot;</span> &lt;&lt; max_group_id &lt;&lt; std::endl;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                <span class="keywordflow">if</span> ( max_group_id &gt; 0 )</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                    points_primitives.resize( points.size() );</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> = 0; <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> != points.size(); ++<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> )</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                    {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                        <span class="comment">// assume linear...TODO: 2d</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                        <span class="keywordtype">int</span> tag = points[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>].getTag(<a class="code" href="class_g_f2_1_1_point_primitive.html#adac543bf5f7b4b639dda512ddb5c95b0a5b70cf743ab33511651dbd93d58ca166">PointPrimitiveT::GID</a>);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                        <span class="keywordflow">if</span> ( tag &gt;= 0 )</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                            points_primitives[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>].push_back( std::pair&lt;int,int&gt;(0,tag) );</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                    }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <span class="keywordflow">if</span> ( !points_primitives.size() )</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                points_primitives.resize( points.size() );</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> = 0; <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> != prims.size(); ++<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> )</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> lid1 = 0; lid1 != prims[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>].size(); ++lid1 )</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                    {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                        <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a> <a class="code" href="point__plane_8m.html#a93606e6aea9563f73484a536c9c5636d">dist</a> = <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>(0);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> = 0; <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> != points.size(); ++<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> )</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                        {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                            <span class="comment">// if within scale, add point constraint to line</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                            dist = PointPrimitiveDistanceFunctorT::eval&lt;Scalar&gt;( points[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>], prims[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1] );</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                            <span class="keywordflow">if</span> ( dist &lt; scale )</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                            {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                                points_primitives[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>].push_back( std::pair&lt;int,int&gt;(<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>,lid1) );</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                                <span class="keywordflow">if</span> ( lid1 == 2 &amp;&amp; points_primitives[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>].<a class="code" href="scale__optimization_8m.html#aa3bc9f08cad6c0b386cc994140e1ce2e">size</a>() &gt; 1 )</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                                {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                                    std::cout&lt;&lt;<span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;oooo, points_primitives[&quot;</span>&lt;&lt;<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>&lt;&lt;<span class="stringliteral">&quot;]:&quot;</span>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                                    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a> = 0; <a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>!= points_primitives[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>].size(); ++<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a> )</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                                        std::cout &lt;&lt; <span class="stringliteral">&quot;&lt;&quot;</span> &lt;&lt; points_primitives[pid][<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>].first</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                                                  &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; points_primitives[pid][<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>].second</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                                                  &lt;&lt; <span class="stringliteral">&quot;&gt;; &quot;</span>;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                                    std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                                }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                            }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                        } <span class="comment">// ... for points</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                    } <span class="comment">// ... for lines</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                } <span class="comment">// ... for lines</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            } <span class="comment">// ... if points_primitives.empty()</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="comment">// add term</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a> coeff = <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>(0);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> = 0; <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> != points.size(); ++<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> )</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                <span class="comment">// skip, if ambiguous assignment</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                <span class="keywordflow">if</span> ( points_primitives[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>].<a class="code" href="scale__optimization_8m.html#aa3bc9f08cad6c0b386cc994140e1ce2e">size</a>() != 1 )</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>  = points_primitives[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>][0].first;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> lid1 = points_primitives[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>][0].second;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                <span class="comment">// debug</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;adding pid &quot;</span> &lt;&lt; <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; <span class="stringliteral">&quot;lines[&quot;</span> &lt;&lt; lid &lt;&lt; <span class="stringliteral">&quot;][&quot;</span> &lt;&lt; lid1 &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                <span class="comment">// x,y,z</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> dim = 0; dim != <a class="code" href="globfit_8m.html#a59cd6a1194eac609179091dc9dcc724b">Dim</a>; ++dim )</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                    <span class="comment">// p_x^2 . n_x^2</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    coeff = ((<span class="keyword">typename</span> <a class="code" href="class_g_f2_1_1_primitive.html#a0c9852a5e794bb1e0d4ab2caa826ea8d">PointPrimitiveT::VectorType</a>)points[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>])(dim);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                    coeff *= coeff;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    objectiveQExpr.addTerm( coeff, vars[lid][lid1][dim], vars[lid][lid1][dim] );</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                    <span class="keywordflow">if</span> ( gurobi_log ) std::cout &lt;&lt; <span class="stringliteral">&quot;added qterm(pid: &quot;</span> &lt;&lt; pid &lt;&lt; <span class="stringliteral">&quot;): &quot;</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                                                &lt;&lt; coeff &lt;&lt; <span class="stringliteral">&quot; * &quot;</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                                                &lt;&lt; vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1][dim].get(GRB_StringAttr_VarName) &lt;&lt; <span class="stringliteral">&quot; * &quot;</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                                                &lt;&lt; vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1][dim].get(GRB_StringAttr_VarName)</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                                                &lt;&lt; std::endl;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                    <span class="comment">// 2 . p_x . n_x . d</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    coeff = <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>(2) * ((<span class="keyword">typename</span> <a class="code" href="class_g_f2_1_1_primitive.html#a0c9852a5e794bb1e0d4ab2caa826ea8d">PointPrimitiveT::VectorType</a>)points[pid])(dim);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                    objectiveQExpr.addTerm( coeff, vars[lid][lid1][dim], vars[lid][lid1].back() ); <span class="comment">// back == d</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    <span class="keywordflow">if</span> ( gurobi_log ) std::cout &lt;&lt; <span class="stringliteral">&quot;added qterm(pid: &quot;</span> &lt;&lt; pid &lt;&lt; <span class="stringliteral">&quot;): &quot;</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                                                &lt;&lt; coeff &lt;&lt; <span class="stringliteral">&quot; * &quot;</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                                                &lt;&lt; vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1][dim].get(GRB_StringAttr_VarName) &lt;&lt; <span class="stringliteral">&quot; * &quot;</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                                                &lt;&lt; vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1].back().get(GRB_StringAttr_VarName)</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                                                &lt;&lt; std::endl;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                <span class="comment">// d^2</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                coeff = <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>(1);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                objectiveQExpr.addTerm( coeff, vars[lid][lid1].back(), vars[lid][lid1].back() );</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                <span class="keywordflow">if</span> ( gurobi_log ) std::cout &lt;&lt; <span class="stringliteral">&quot;added qterm(pid: &quot;</span> &lt;&lt; <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> &lt;&lt; <span class="stringliteral">&quot;): &quot;</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                                            &lt;&lt; coeff &lt;&lt; <span class="stringliteral">&quot; * &quot;</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                                            &lt;&lt; vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1].back().get(GRB_StringAttr_VarName) &lt;&lt; <span class="stringliteral">&quot; * &quot;</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                                            &lt;&lt; vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1].back().get(GRB_StringAttr_VarName)</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                                            &lt;&lt; std::endl;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                <span class="comment">// 2 . px . py . nx . ny</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                coeff = <a class="code" href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">Scalar</a>(2) * ((<span class="keyword">typename</span> <a class="code" href="class_g_f2_1_1_primitive.html#a0c9852a5e794bb1e0d4ab2caa826ea8d">PointPrimitiveT::VectorType</a>)points[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>])(0) * ((<span class="keyword">typename</span> <a class="code" href="class_g_f2_1_1_primitive.html#a0c9852a5e794bb1e0d4ab2caa826ea8d">PointPrimitiveT::VectorType</a>)points[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>])(1);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                objectiveQExpr.addTerm( coeff, vars[lid][lid1][0], vars[lid][lid1][1] );</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                <span class="keywordflow">if</span> ( gurobi_log ) std::cout &lt;&lt; <span class="stringliteral">&quot;added qterm(pid: &quot;</span> &lt;&lt; pid &lt;&lt; <span class="stringliteral">&quot;): &quot;</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                                            &lt;&lt; coeff &lt;&lt; <span class="stringliteral">&quot; * &quot;</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                                            &lt;&lt; vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1][0].get(GRB_StringAttr_VarName) &lt;&lt; <span class="stringliteral">&quot; * &quot;</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                                            &lt;&lt; vars[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1][1].get(GRB_StringAttr_VarName)</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                                            &lt;&lt; std::endl;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            } <span class="comment">// for points</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            <a class="code" href="test__fmincon_8m.html#a7b9e84336c0608fb11ded2d23672137d">model</a>.update();</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <span class="comment">// set objective</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <a class="code" href="test__fmincon_8m.html#a7b9e84336c0608fb11ded2d23672137d">model</a>.setObjective( objectiveQExpr, GRB_MINIMIZE );</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            <a class="code" href="test__fmincon_8m.html#a7b9e84336c0608fb11ded2d23672137d">model</a>.update();</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        } <span class="comment">//...add costs</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="comment">// dump</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <span class="comment">// dump x0 (starting values)</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                std::string f_start_path = params.store_path + <span class="stringliteral">&quot;/&quot;</span> + <span class="stringliteral">&quot;starting_values.m&quot;</span>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                ofstream f_start( f_start_path );</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                f_start &lt;&lt; <span class="stringliteral">&quot;x0 = [ ...\n&quot;</span>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a> = 0; <a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a> != starting_values.size(); ++<a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a> )</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                    f_start &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; starting_values[<a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a>].second &lt;&lt; <span class="stringliteral">&quot;,      % &quot;</span> &lt;&lt; starting_values[<a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a>].first &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                f_start &lt;&lt; <span class="stringliteral">&quot;];&quot;</span>;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                f_start.close();</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;wrote to &quot;</span> &lt;&lt; f_start_path &lt;&lt; std::endl;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            } <span class="comment">//...dump x0</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            <span class="comment">// dump associations</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                <span class="comment">// reverse map for sorted output</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                std::vector&lt; std::vector&lt; std::vector&lt;int&gt; &gt; &gt; primitives_points( prims.size() );</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> = 0; <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> != points_primitives.size(); ++<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> )</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                    <span class="keywordflow">if</span> ( points_primitives[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>].<a class="code" href="scale__optimization_8m.html#aa3bc9f08cad6c0b386cc994140e1ce2e">size</a>() == 1 )</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                    {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>  = points_primitives[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>][0].first;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> lid1 = points_primitives[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>][0].second;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                        <span class="keywordflow">if</span> ( primitives_points[lid].<a class="code" href="scale__optimization_8m.html#aa3bc9f08cad6c0b386cc994140e1ce2e">size</a>() &lt;= lid1 )</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                            primitives_points[ lid ].resize( lid1 + 1 );</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                        primitives_points[ <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> ][ lid1 ].push_back( <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> );</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                        std::cout &lt;&lt; <span class="stringliteral">&quot;added &quot;</span> &lt;&lt; <span class="stringliteral">&quot;primitives_points[ &quot;</span>&lt;&lt;lid&lt;&lt;<span class="stringliteral">&quot; ][ &quot;</span>&lt;&lt;lid1&lt;&lt;<span class="stringliteral">&quot; ].back(): &quot;</span> &lt;&lt; primitives_points[ <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> ][ lid1 ].back() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                    }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                    {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                        std::cout &lt;&lt; <span class="stringliteral">&quot;skipping pid &quot;</span> &lt;&lt; <a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a> &lt;&lt; <span class="stringliteral">&quot;, since: &quot;</span>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                        std::cout&lt;&lt;<span class="stringliteral">&quot;points_primitives[&quot;</span>&lt;&lt;pid&lt;&lt;<span class="stringliteral">&quot;]:&quot;</span>;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> <a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>=0;<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>!=points_primitives[<a class="code" href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a>].size();++<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>)std::cout&lt;&lt;points_primitives[pid][<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>].first&lt;&lt;<span class="stringliteral">&quot;,&quot;</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                                                                                       &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; points_primitives[pid][<a class="code" href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a>].second &lt;&lt; <span class="stringliteral">&quot;;  &quot;</span>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                        std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                    }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                <span class="comment">// dump associations</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                std::string f_assoc_path = params.store_path + <span class="stringliteral">&quot;/&quot;</span> + <span class="stringliteral">&quot;points_primitives.txt&quot;</span>;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <span class="keywordflow">if</span> ( !boost::filesystem::exists(f_assoc_path) )</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    ofstream f_assoc( f_assoc_path );</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                    f_assoc &lt;&lt; <span class="stringliteral">&quot;# point_id,primitive_pos_id,primitive_dir_id&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> = 0; <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> != primitives_points.size(); ++<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a> )</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> lid1 = 0; lid1 != primitives_points[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>].size(); ++lid1 )</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                            <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> pid_id = 0; pid_id != primitives_points[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1].size(); ++pid_id )</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                            {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                                f_assoc &lt;&lt; primitives_points[<a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a>][lid1][pid_id]</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                                           &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; <a class="code" href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                                           &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; lid1 &lt;&lt; std::endl;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                            }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                    f_assoc.close();</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                    std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;wrote to &quot;</span> &lt;&lt; f_assoc_path &lt;&lt; std::endl;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                    std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;did NOT write to &quot;</span> &lt;&lt; f_assoc_path &lt;&lt; <span class="stringliteral">&quot;, since already exists&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                } <span class="comment">//...if assoc_path exists</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            } <span class="comment">//...dump assoc</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        } <span class="comment">//...dump</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    } <span class="comment">//...work</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;} <span class="comment">// ...Solver::datafit()</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;Eigen::Matrix&lt;Solver::Scalar,3,1&gt;</div>
<div class="line"><a name="l00994"></a><span class="lineno"><a class="line" href="class_g_f2_1_1_solver.html#aad3caec6fed374272acac334c00f2149">  994</a></span>&#160;<a class="code" href="class_g_f2_1_1_solver.html#aad3caec6fed374272acac334c00f2149">Solver::checkSolution</a>( std::vector&lt;Scalar&gt; <span class="keyword">const</span>&amp; <a class="code" href="fmincon__merged_8m.html#aff183fb9b39732dbe5febd1cec997d25">x</a></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                     , <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">Solver::SparseMatrix</a> <span class="keyword">const</span>&amp; linObj</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                     , <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">Solver::SparseMatrix</a> <span class="keyword">const</span>&amp; <a class="code" href="compare_mosek_gurobi_8m.html#ab6635a71ba191c6c4688c17ed82adfd1">Qo</a></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                     , <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">Solver::SparseMatrix</a> <span class="keyword">const</span>&amp; <span class="comment">/* A */</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                     , Eigen::Matrix&lt;Scalar,3,1&gt; <span class="keyword">const</span>&amp; weights )</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;{</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    Eigen::Matrix&lt;Scalar,3,1&gt; energy; energy.setZero();</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">SparseMatrix</a> complexity( x.size(), 1 );</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> row = 0; row != x.size(); ++row )</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        complexity.insert( row, 0 ) = weights(2);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="comment">// X</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">SparseMatrix</a> <a class="code" href="read_sparse_matrix_8m.html#a682c0ad28385d09ab3ad84efd3218b86">mx</a>( x.size(), 1 );</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> <a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a> = 0; <a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a> != x.size(); ++<a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a> )</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <a class="code" href="read_sparse_matrix_8m.html#a682c0ad28385d09ab3ad84efd3218b86">mx</a>.insert( <a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a>, 0 ) = x[<a class="code" href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a>];</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">SparseMatrix</a> data   = linObj - complexity;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="comment">// qo</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">SparseMatrix</a> e02 = <a class="code" href="read_sparse_matrix_8m.html#a682c0ad28385d09ab3ad84efd3218b86">mx</a>.transpose() * linObj;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;qo * x = &quot;</span> &lt;&lt; e02.coeffRef(0,0) &lt;&lt; std::endl; fflush(stdout);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="comment">// datacost</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">SparseMatrix</a> e0 = (<a class="code" href="read_sparse_matrix_8m.html#a682c0ad28385d09ab3ad84efd3218b86">mx</a>.transpose() * data);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    energy(0) = e0.coeffRef(0,0);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="comment">//std::cout &lt;&lt; &quot;[&quot; &lt;&lt; __func__ &lt;&lt; &quot;]: &quot; &lt;&lt; &quot;data: &quot; &lt;&lt; energy(0) &lt;&lt; std::endl; fflush(stdout);</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="comment">// Qo</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">SparseMatrix</a> e1 = <a class="code" href="read_sparse_matrix_8m.html#a682c0ad28385d09ab3ad84efd3218b86">mx</a>.transpose() * Qo * <a class="code" href="read_sparse_matrix_8m.html#a682c0ad28385d09ab3ad84efd3218b86">mx</a>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    energy(1) = e1.coeffRef(0,0);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="comment">//std::cout &lt;&lt; &quot;[&quot; &lt;&lt; __func__ &lt;&lt; &quot;]: &quot; &lt;&lt; &quot;x&#39; * Qo * x = pw = &quot; &lt;&lt; energy(1) &lt;&lt; std::endl; fflush(stdout);</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="comment">// complexity</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <a class="code" href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">SparseMatrix</a> e2 = mx.transpose() * complexity;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    energy(2) = e2.coeffRef(0,0);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="comment">//std::cout &lt;&lt; &quot;[&quot; &lt;&lt; __func__ &lt;&lt; &quot;]: &quot; &lt;&lt; &quot;complx = &quot; &lt;&lt; energy(2) &lt;&lt; std::endl; fflush(stdout);</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; __func__ &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; std::setprecision(9) &lt;&lt; energy(0) &lt;&lt; <span class="stringliteral">&quot; + &quot;</span> &lt;&lt; energy(1) &lt;&lt; <span class="stringliteral">&quot; + &quot;</span> &lt;&lt; energy(2) &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; energy.sum();</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    std::cout                             &lt;&lt; std::setprecision(9) &lt;&lt; weights(0) &lt;&lt; <span class="stringliteral">&quot; * &quot;</span> &lt;&lt; energy(0)/weights(0)</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                                                                  &lt;&lt; <span class="stringliteral">&quot; + &quot;</span> &lt;&lt; weights(1) &lt;&lt; <span class="stringliteral">&quot; * &quot;</span> &lt;&lt; energy(1) / weights(1)</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                                                  &lt;&lt; <span class="stringliteral">&quot; + &quot;</span> &lt;&lt; weights(2) &lt;&lt; <span class="stringliteral">&quot; * &quot;</span> &lt;&lt; energy(2) / weights(2)</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                                                                  &lt;&lt; std::endl;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">return</span> energy;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;}</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;} <span class="comment">// ... ns GF2</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="preprocessor">#endif // __GF2_SOLVER_H__</span></div>
<div class="ttc" id="my__ply__read_8m_html_ab6eb9cb199df2a09b72fbc4375c0c335"><div class="ttname"><a href="my__ply__read_8m.html#ab6eb9cb199df2a09b72fbc4375c0c335">pid</a></div><div class="ttdeci">pid</div><div class="ttdef"><b>Definition:</b> <a href="my__ply__read_8m_source.html#l00011">my_ply_read.m:11</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_common_params_html_a414729020b67204b42ca6ab1ad32aa5d"><div class="ttname"><a href="struct_g_f2_1_1_common_params.html#a414729020b67204b42ca6ab1ad32aa5d">GF2::CommonParams::scale</a></div><div class="ttdeci">_Scalar scale</div><div class="ttdoc">Scale parameter of input. </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00014">parameters.h:14</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_candidate_generator_params_html_aca171dc5b21762fff8cde4c504ccdf42"><div class="ttname"><a href="struct_g_f2_1_1_candidate_generator_params.html#aca171dc5b21762fff8cde4c504ccdf42">GF2::CandidateGeneratorParams::patch_spatial_weight</a></div><div class="ttdeci">_Scalar patch_spatial_weight</div><div class="ttdoc">Weight of spatial term in  regionGrowing distance functor. Used in Segmentation::patchify() and Mergi...</div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00061">parameters.h:61</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html"><div class="ttname"><a href="class_g_f2_1_1_solver.html">GF2::Solver</a></div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00022">solver.h:22</a></div></div>
<div class="ttc" id="namespace_g_f2_1_1util_html_a76af03f83085374160be9ba6570d1955"><div class="ttname"><a href="namespace_g_f2_1_1util.html#a76af03f83085374160be9ba6570d1955">GF2::util::saveBackup</a></div><div class="ttdeci">std::string saveBackup(std::string path)</div><div class="ttdoc">_saveSafe Saves backups of the path to be overwritten. If .0.bak exists, try .1.bak, etc. </div><div class="ttdef"><b>Definition:</b> <a href="disk_util_8hpp_source.html#l00014">diskUtil.hpp:14</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_candidate_generator_params_html"><div class="ttname"><a href="struct_g_f2_1_1_candidate_generator_params.html">GF2::CandidateGeneratorParams</a></div><div class="ttdoc">Collection of parameters for CandidateGenerator::generate. </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00029">parameters.h:29</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_common_params_html_aab94199958a72779c5067ef29b406ee9"><div class="ttname"><a href="struct_g_f2_1_1_common_params.html#aab94199958a72779c5067ef29b406ee9">GF2::CommonParams::angles</a></div><div class="ttdeci">std::vector&lt; _Scalar &gt; angles</div><div class="ttdoc">Desired angles. </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00017">parameters.h:17</a></div></div>
<div class="ttc" id="line_primitive2_8h_html"><div class="ttname"><a href="line_primitive2_8h.html">linePrimitive2.h</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_candidate_generator_params_html_a250e7a620373964d77ff805f6c7efb09"><div class="ttname"><a href="struct_g_f2_1_1_candidate_generator_params.html#a250e7a620373964d77ff805f6c7efb09">GF2::CandidateGeneratorParams::printPatchDistMode</a></div><div class="ttdeci">std::string printPatchDistMode() const </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00110">parameters.h:110</a></div></div>
<div class="ttc" id="class_g_f2_1_1_line_primitive2_html"><div class="ttname"><a href="class_g_f2_1_1_line_primitive2.html">GF2::LinePrimitive2</a></div><div class="ttdoc">Taggable LinePrimitive. Separate class for historical reasons. </div><div class="ttdef"><b>Definition:</b> <a href="line_primitive2_8h_source.html#l00010">linePrimitive2.h:10</a></div></div>
<div class="ttc" id="globfit_8m_html_a901eed5bfcfb9d1af7f58c545d1a88c4"><div class="ttname"><a href="globfit_8m.html#a901eed5bfcfb9d1af7f58c545d1a88c4">i</a></div><div class="ttdeci">for i</div><div class="ttdef"><b>Definition:</b> <a href="globfit_8m_source.html#l00015">globfit.m:15</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html_aad3caec6fed374272acac334c00f2149"><div class="ttname"><a href="class_g_f2_1_1_solver.html#aad3caec6fed374272acac334c00f2149">GF2::Solver::checkSolution</a></div><div class="ttdeci">static Eigen::Matrix&lt; Scalar, 3, 1 &gt; checkSolution(std::vector&lt; Scalar &gt; const &amp;x, SparseMatrix const &amp;qo, SparseMatrix const &amp;Qo, SparseMatrix const &amp;A, Eigen::Matrix&lt; Scalar, 3, 1 &gt; const &amp;weights)</div><div class="ttdoc">Prints energy of solution in x using weights. </div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00994">solver.h:994</a></div></div>
<div class="ttc" id="write_q_8m_html_a10d07efd5ac1cb47cf2972c3ef20c28e"><div class="ttname"><a href="write_q_8m.html#a10d07efd5ac1cb47cf2972c3ef20c28e">r</a></div><div class="ttdeci">elements for r</div><div class="ttdef"><b>Definition:</b> <a href="write_q_8m_source.html#l00008">writeQ.m:8</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_candidate_generator_params_html_a961cb3b2007b17476026e82b833978ef"><div class="ttname"><a href="struct_g_f2_1_1_candidate_generator_params.html#a961cb3b2007b17476026e82b833978ef">GF2::CandidateGeneratorParams::nn_K</a></div><div class="ttdeci">int nn_K</div><div class="ttdoc">Number of points used for primitive fitting. Used in Segmentation::orientPoints(), Segmentation::regionGrow() relayed from Segmentation::patchify(). </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00056">parameters.h:56</a></div></div>
<div class="ttc" id="fmincon__merged_8m_html_a1aabac6d068eef6a7bad3fdf50a05cc8"><div class="ttname"><a href="fmincon__merged_8m.html#a1aabac6d068eef6a7bad3fdf50a05cc8">d</a></div><div class="ttdeci">d</div><div class="ttdef"><b>Definition:</b> <a href="fmincon__merged_8m_source.html#l00097">fmincon_merged.m:97</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_candidate_generator_params_html_a6d923c38a3c5b62f6ad57e365c016d09"><div class="ttname"><a href="struct_g_f2_1_1_candidate_generator_params.html#a6d923c38a3c5b62f6ad57e365c016d09">GF2::CandidateGeneratorParams::parsePatchDistMode</a></div><div class="ttdeci">int parsePatchDistMode(std::string const &amp;patch_dist_mode_string)</div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00075">parameters.h:75</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html_a59d72ae46dcc288c6043505580b9c0dc"><div class="ttname"><a href="class_g_f2_1_1_solver.html#a59d72ae46dcc288c6043505580b9c0dc">GF2::Solver::PrimitiveT</a></div><div class="ttdeci">LinePrimitive2 PrimitiveT</div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00027">solver.h:27</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_candidate_generator_params_html_ac2ede42aac59593b6d19eb03639955e9"><div class="ttname"><a href="struct_g_f2_1_1_candidate_generator_params.html#ac2ede42aac59593b6d19eb03639955e9">GF2::CandidateGeneratorParams::patch_dist_limit_mult</a></div><div class="ttdeci">_Scalar patch_dist_limit_mult</div><div class="ttdoc">Patchify takes &quot;patch_dist_limit * scale&quot; as maximum spatial distance. Used in Segmentation::patchify...</div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00052">parameters.h:52</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html_a5e7cc6867880ad093d96bbcc610890ce"><div class="ttname"><a href="class_g_f2_1_1_solver.html#a5e7cc6867880ad093d96bbcc610890ce">GF2::Solver::solve</a></div><div class="ttdeci">static int solve(int argc, char **argv)</div><div class="ttdoc">Step 3. Reads a formulated problem from path and runs qcqpcpp::OptProblem::optimize() on it...</div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00426">solver.h:426</a></div></div>
<div class="ttc" id="gurobi_opt_8h_html"><div class="ttname"><a href="gurobi_opt_8h.html">gurobiOpt.h</a></div></div>
<div class="ttc" id="energy_functors_8h_html"><div class="ttname"><a href="energy_functors_8h.html">energyFunctors.h</a></div></div>
<div class="ttc" id="lp_8m_html_a629c932e04d057de3f60912da6e565c2"><div class="ttname"><a href="lp_8m.html#a629c932e04d057de3f60912da6e565c2">cloud</a></div><div class="ttdeci">cloud[Px, Py, Pz,~]</div><div class="ttdef"><b>Definition:</b> <a href="lp_8m_source.html#l00014">lp.m:14</a></div></div>
<div class="ttc" id="class_g_f2_1_1_line_primitive2_html_a66f2b9e27bc70ff50837a2bb0be70f26ae4abdcc63cf77d2c9a2dac0b7daac6bc"><div class="ttname"><a href="class_g_f2_1_1_line_primitive2.html#a66f2b9e27bc70ff50837a2bb0be70f26ae4abdcc63cf77d2c9a2dac0b7daac6bc">GF2::LinePrimitive2::DIR_GID</a></div><div class="ttdoc">direction group id - which group this primitive got it&#39;s direction from </div><div class="ttdef"><b>Definition:</b> <a href="line_primitive2_8h_source.html#l00017">linePrimitive2.h:17</a></div></div>
<div class="ttc" id="io_8h_html"><div class="ttname"><a href="io_8h.html">io.h</a></div></div>
<div class="ttc" id="gt_creator_8h_html"><div class="ttname"><a href="gt_creator_8h.html">gtCreator.h</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_common_params_html_aa92313337cd21986a6086eb08c06cbd2"><div class="ttname"><a href="struct_g_f2_1_1_common_params.html#aa92313337cd21986a6086eb08c06cbd2">GF2::CommonParams::patch_population_limit</a></div><div class="ttdeci">int patch_population_limit</div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00023">parameters.h:23</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html_a98032db9c820f616ee86d5eadf4abb74"><div class="ttname"><a href="class_g_f2_1_1_solver.html#a98032db9c820f616ee86d5eadf4abb74">GF2::Solver::Vector</a></div><div class="ttdeci">Eigen::Matrix&lt; Scalar, 3, 1 &gt; Vector</div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00026">solver.h:26</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html_ab245f9234167ca4d1e00fb99a1eebf8c"><div class="ttname"><a href="class_g_f2_1_1_solver.html#ab245f9234167ca4d1e00fb99a1eebf8c">GF2::Solver::generateCli</a></div><div class="ttdeci">static int generateCli(int argc, char **argv)</div><div class="ttdoc">Step 1. Generates primitives from a cloud. Reads &quot;cloud.ply&quot; and saves &quot;candidates.txt&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00155">solver.h:155</a></div></div>
<div class="ttc" id="compare_mosek_gurobi_8m_html_a3be9e3ccfd210496dfc7940875998fe7"><div class="ttname"><a href="compare_mosek_gurobi_8m.html#a3be9e3ccfd210496dfc7940875998fe7">qo</a></div><div class="ttdeci">qo</div><div class="ttdef"><b>Definition:</b> <a href="compare_mosek_gurobi_8m_source.html#l00006">compareMosekGurobi.m:6</a></div></div>
<div class="ttc" id="disk_util_8hpp_html"><div class="ttname"><a href="disk_util_8hpp.html">diskUtil.hpp</a></div></div>
<div class="ttc" id="globfit_8m_html_ad71b2f1a5c693953c99f125619837e0c"><div class="ttname"><a href="globfit_8m.html#ad71b2f1a5c693953c99f125619837e0c">lid</a></div><div class="ttdeci">for lid</div><div class="ttdef"><b>Definition:</b> <a href="globfit_8m_source.html#l00029">globfit.m:29</a></div></div>
<div class="ttc" id="globfit2_2primitives_2point_primitive_8h_html"><div class="ttname"><a href="globfit2_2primitives_2point_primitive_8h.html">pointPrimitive.h</a></div></div>
<div class="ttc" id="util_2util_8hpp_html"><div class="ttname"><a href="util_2util_8hpp.html">util.hpp</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_solver_params_html_a5052445dc80cc88a548e96568a8159a5"><div class="ttname"><a href="struct_g_f2_1_1_solver_params.html#a5052445dc80cc88a548e96568a8159a5">GF2::SolverParams::n_points</a></div><div class="ttdeci">int n_points</div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00019">solver.h:19</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_candidate_generator_params_html_a7a1887ccfea503e1f7cc8882e774231f"><div class="ttname"><a href="struct_g_f2_1_1_candidate_generator_params.html#a7a1887ccfea503e1f7cc8882e774231f">GF2::CandidateGeneratorParams::angle_limit</a></div><div class="ttdeci">_Scalar angle_limit</div><div class="ttdoc">Angle threshold for similar lines. Used in Segmentation::patchify() and Merging::mergeSameDirGids(). </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00043">parameters.h:43</a></div></div>
<div class="ttc" id="globfit_8m_html_ab9a89211ecb71d18bbd259853fda1c54"><div class="ttname"><a href="globfit_8m.html#ab9a89211ecb71d18bbd259853fda1c54">points</a></div><div class="ttdeci">points</div><div class="ttdef"><b>Definition:</b> <a href="globfit_8m_source.html#l00007">globfit.m:7</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html_a33395c45075ba3ccfcb4cc2a9cfe1905"><div class="ttname"><a href="class_g_f2_1_1_solver.html#a33395c45075ba3ccfcb4cc2a9cfe1905">GF2::Solver::PrimitiveContainerT</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; PrimitiveT &gt; &gt; PrimitiveContainerT</div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00029">solver.h:29</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_candidate_generator_params_html_acb0f416c125b74be47221a0eb117bbb6"><div class="ttname"><a href="struct_g_f2_1_1_candidate_generator_params.html#acb0f416c125b74be47221a0eb117bbb6">GF2::CandidateGeneratorParams::angle_limit_div</a></div><div class="ttdeci">_Scalar angle_limit_div</div><div class="ttdoc">Determines, how much the angle_limit is divided by, to get the patch-similarity threshold. Used in CandidateGenerator::generate(). </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00065">parameters.h:65</a></div></div>
<div class="ttc" id="globfit_8m_html_a3d6cbfbc95fcc0bac7015e7f5743e466"><div class="ttname"><a href="globfit_8m.html#a3d6cbfbc95fcc0bac7015e7f5743e466">scale</a></div><div class="ttdeci">end end scale</div><div class="ttdef"><b>Definition:</b> <a href="globfit_8m_source.html#l00026">globfit.m:26</a></div></div>
<div class="ttc" id="compare_mosek_gurobi_8m_html_ab28bbea71e3faec8c14dd00b8733c8a9"><div class="ttname"><a href="compare_mosek_gurobi_8m.html#ab28bbea71e3faec8c14dd00b8733c8a9">m</a></div><div class="ttdeci">read gurobi m</div><div class="ttdef"><b>Definition:</b> <a href="compare_mosek_gurobi_8m_source.html#l00009">compareMosekGurobi.m:9</a></div></div>
<div class="ttc" id="compare_mosek_gurobi_8m_html_ab6635a71ba191c6c4688c17ed82adfd1"><div class="ttname"><a href="compare_mosek_gurobi_8m.html#ab6635a71ba191c6c4688c17ed82adfd1">Qo</a></div><div class="ttdeci">read mosek Qo</div><div class="ttdef"><b>Definition:</b> <a href="compare_mosek_gurobi_8m_source.html#l00005">compareMosekGurobi.m:5</a></div></div>
<div class="ttc" id="globfit_8m_html_a9cd3750f4fb066187238d29551e56a88"><div class="ttname"><a href="globfit_8m.html#a9cd3750f4fb066187238d29551e56a88">A</a></div><div class="ttdeci">A</div><div class="ttdef"><b>Definition:</b> <a href="globfit_8m_source.html#l00027">globfit.m:27</a></div></div>
<div class="ttc" id="fmincon__merged_8m_html_abefa2be7688c37629d024a146e8a3b5e"><div class="ttname"><a href="fmincon__merged_8m.html#abefa2be7688c37629d024a146e8a3b5e">l</a></div><div class="ttdeci">for l</div><div class="ttdef"><b>Definition:</b> <a href="fmincon__merged_8m_source.html#l00057">fmincon_merged.m:57</a></div></div>
<div class="ttc" id="globfit_8m_html_a59cd6a1194eac609179091dc9dcc724b"><div class="ttname"><a href="globfit_8m.html#a59cd6a1194eac609179091dc9dcc724b">Dim</a></div><div class="ttdeci">read primitives Dim</div><div class="ttdef"><b>Definition:</b> <a href="globfit_8m_source.html#l00011">globfit.m:11</a></div></div>
<div class="ttc" id="class_g_f2_1_1_primitive_html_a0c9852a5e794bb1e0d4ab2caa826ea8d"><div class="ttname"><a href="class_g_f2_1_1_primitive.html#a0c9852a5e794bb1e0d4ab2caa826ea8d">GF2::Primitive&lt; 6 &gt;::VectorType</a></div><div class="ttdeci">Eigen::Matrix&lt; Scalar, _Dim, 1 &gt; VectorType</div><div class="ttdoc">Standard typedef of internal storage Eigen::Matrix. </div><div class="ttdef"><b>Definition:</b> <a href="globfit2_2primitives_2primitive_8h_source.html#l00023">primitive.h:23</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html_a4077ed3afd929ab417a8e0195c39486c"><div class="ttname"><a href="class_g_f2_1_1_solver.html#a4077ed3afd929ab417a8e0195c39486c">GF2::Solver::SparseMatrix</a></div><div class="ttdeci">Eigen::SparseMatrix&lt; Scalar, Eigen::RowMajor &gt; SparseMatrix</div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00031">solver.h:31</a></div></div>
<div class="ttc" id="class_g_f2_1_1_g_t_creator_html_aa6983d213ef48c890941d6a36cc94894"><div class="ttname"><a href="class_g_f2_1_1_g_t_creator.html#aa6983d213ef48c890941d6a36cc94894">GF2::GTCreator::sampleImage</a></div><div class="ttdeci">static int sampleImage(pcl::PointCloud&lt; PointT &gt;::Ptr &amp;cloud, std::string image_path, int gt_nPoints, float gt_noise, float gt_scene_size=1.f, float filter_size=0.075f, Eigen::Vector3f *sensor_origin=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="gt_creator_8cpp_source.html#l00087">gtCreator.cpp:87</a></div></div>
<div class="ttc" id="class_g_f2_1_1_line_primitive2_html_a66f2b9e27bc70ff50837a2bb0be70f26aedf35fcfdef8fdd420c26fdc58547944"><div class="ttname"><a href="class_g_f2_1_1_line_primitive2.html#a66f2b9e27bc70ff50837a2bb0be70f26aedf35fcfdef8fdd420c26fdc58547944">GF2::LinePrimitive2::GID</a></div><div class="ttdoc">group id - which group this primitive is supposed to explain </div><div class="ttdef"><b>Definition:</b> <a href="line_primitive2_8h_source.html#l00016">linePrimitive2.h:16</a></div></div>
<div class="ttc" id="namespace_g_f2_1_1problem_setup_html_a22d94ef9bbac504c10480be5922bc805"><div class="ttname"><a href="namespace_g_f2_1_1problem_setup.html#a22d94ef9bbac504c10480be5922bc805">GF2::problemSetup::OptProblemT</a></div><div class="ttdeci">qcqpcpp::OptProblem&lt; double &gt; OptProblemT</div><div class="ttdoc">General problem type, most implementations require double, so it is fixed to double. </div><div class="ttdef"><b>Definition:</b> <a href="problem_setup_8h_source.html#l00018">problemSetup.h:18</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_candidate_generator_params_html_aa5da1cdf35c2e2b2ff15fb267c45324d"><div class="ttname"><a href="struct_g_f2_1_1_candidate_generator_params.html#aa5da1cdf35c2e2b2ff15fb267c45324d">GF2::CandidateGeneratorParams::patch_dist_mode</a></div><div class="ttdeci">PatchPatchDistMode patch_dist_mode</div><div class="ttdoc">Regiongrow uses this option to determine which functor to use for a patch-patch distance. Used in Segmentation::patchify(). </div><div class="ttdef"><b>Definition:</b> <a href="parameters_8h_source.html#l00047">parameters.h:47</a></div></div>
<div class="ttc" id="segmentation_8h_html"><div class="ttname"><a href="segmentation_8h.html">segmentation.h</a></div></div>
<div class="ttc" id="class_g_f2_1_1_point_primitive_html"><div class="ttname"><a href="class_g_f2_1_1_point_primitive.html">GF2::PointPrimitive</a></div><div class="ttdoc">Wrapper class for oriented 3D points. </div><div class="ttdef"><b>Definition:</b> <a href="globfit2_2primitives_2point_primitive_8h_source.html#l00012">pointPrimitive.h:12</a></div></div>
<div class="ttc" id="test__fmincon_8m_html_a7b9e84336c0608fb11ded2d23672137d"><div class="ttname"><a href="test__fmincon_8m.html#a7b9e84336c0608fb11ded2d23672137d">model</a></div><div class="ttdeci">end objective function model</div><div class="ttdef"><b>Definition:</b> <a href="test__fmincon_8m_source.html#l00020">test_fmincon.m:20</a></div></div>
<div class="ttc" id="globfit_8m_html_a9ff4428a460ac699d709dcab2350626b"><div class="ttname"><a href="globfit_8m.html#a9ff4428a460ac699d709dcab2350626b">primitives</a></div><div class="ttdeci">primitives</div><div class="ttdef"><b>Definition:</b> <a href="globfit_8m_source.html#l00014">globfit.m:14</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_representative_sqr_patch_patch_distance_functor_t_html"><div class="ttname"><a href="struct_g_f2_1_1_representative_sqr_patch_patch_distance_functor_t.html">GF2::RepresentativeSqrPatchPatchDistanceFunctorT</a></div><div class="ttdoc">Distance is combined by spatial and angular terms according to formula: . The weight was mostly set t...</div><div class="ttdef"><b>Definition:</b> <a href="patch_distance_functors_8h_source.html#l00291">patchDistanceFunctors.h:291</a></div></div>
<div class="ttc" id="globfit_8m_html_a4577dc1b6b515e196385b5f8b19093c1"><div class="ttname"><a href="globfit_8m.html#a4577dc1b6b515e196385b5f8b19093c1">normal</a></div><div class="ttdeci">normal</div><div class="ttdef"><b>Definition:</b> <a href="globfit_8m_source.html#l00031">globfit.m:31</a></div></div>
<div class="ttc" id="point__plane_8m_html_a93606e6aea9563f73484a536c9c5636d"><div class="ttname"><a href="point__plane_8m.html#a93606e6aea9563f73484a536c9c5636d">dist</a></div><div class="ttdeci">dist</div><div class="ttdef"><b>Definition:</b> <a href="point__plane_8m_source.html#l00003">point_plane.m:3</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html_a469309bf22484766411f134ced98d4b5"><div class="ttname"><a href="class_g_f2_1_1_solver.html#a469309bf22484766411f134ced98d4b5">GF2::Solver::PointPrimitiveT</a></div><div class="ttdeci">PointPrimitive PointPrimitiveT</div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00028">solver.h:28</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html_ab6a5b204770a8a5597e80c3b64f66a57"><div class="ttname"><a href="class_g_f2_1_1_solver.html#ab6a5b204770a8a5597e80c3b64f66a57">GF2::Solver::Scalar</a></div><div class="ttdeci">float Scalar</div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00025">solver.h:25</a></div></div>
<div class="ttc" id="read__ply_8m_html_ac3bb6f719742fd1e5768d6d1361cfb49"><div class="ttname"><a href="read__ply_8m.html#ac3bb6f719742fd1e5768d6d1361cfb49">vi</a></div><div class="ttdeci">vi</div><div class="ttdef"><b>Definition:</b> <a href="read__ply_8m_source.html#l00016">read_ply.m:16</a></div></div>
<div class="ttc" id="candidate_generator_8h_html"><div class="ttname"><a href="candidate_generator_8h.html">candidateGenerator.h</a></div></div>
<div class="ttc" id="struct_g_f2_1_1_solver_params_html"><div class="ttname"><a href="struct_g_f2_1_1_solver_params.html">GF2::SolverParams</a></div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00017">solver.h:17</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html_a84e8a6d62d98e61d3edb2f5f10116048"><div class="ttname"><a href="class_g_f2_1_1_solver.html#a84e8a6d62d98e61d3edb2f5f10116048">GF2::Solver::PointContainerT</a></div><div class="ttdeci">std::vector&lt; PointPrimitiveT &gt; PointContainerT</div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00030">solver.h:30</a></div></div>
<div class="ttc" id="problem_setup_8h_html"><div class="ttname"><a href="problem_setup_8h.html">problemSetup.h</a></div></div>
<div class="ttc" id="lp_8m_html_ae8954d9790c81e762964bce1b5bcda08"><div class="ttname"><a href="lp_8m.html#ae8954d9790c81e762964bce1b5bcda08">prims</a></div><div class="ttdeci">prims</div><div class="ttdef"><b>Definition:</b> <a href="lp_8m_source.html#l00010">lp.m:10</a></div></div>
<div class="ttc" id="class_g_f2_1_1_solver_html_abb12460e745a38fc70baf4603e32a95a"><div class="ttname"><a href="class_g_f2_1_1_solver.html#abb12460e745a38fc70baf4603e32a95a">GF2::Solver::datafit</a></div><div class="ttdeci">static int datafit(int argc, char **argv)</div><div class="ttdoc">Unfinished function. Supposed to do GlobFit. </div><div class="ttdef"><b>Definition:</b> <a href="solver_8h_source.html#l00667">solver.h:667</a></div></div>
<div class="ttc" id="fmincon__merged_8m_html_aff183fb9b39732dbe5febd1cec997d25"><div class="ttname"><a href="fmincon__merged_8m.html#aff183fb9b39732dbe5febd1cec997d25">x</a></div><div class="ttdeci">x</div><div class="ttdef"><b>Definition:</b> <a href="fmincon__merged_8m_source.html#l00007">fmincon_merged.m:7</a></div></div>
<div class="ttc" id="read_sparse_matrix_8m_html_a682c0ad28385d09ab3ad84efd3218b86"><div class="ttname"><a href="read_sparse_matrix_8m.html#a682c0ad28385d09ab3ad84efd3218b86">mx</a></div><div class="ttdeci">function mx</div><div class="ttdef"><b>Definition:</b> <a href="read_sparse_matrix_8m_source.html#l00001">readSparseMatrix.m:1</a></div></div>
<div class="ttc" id="class_g_f2_1_1_point_primitive_html_adac543bf5f7b4b639dda512ddb5c95b0a5b70cf743ab33511651dbd93d58ca166"><div class="ttname"><a href="class_g_f2_1_1_point_primitive.html#adac543bf5f7b4b639dda512ddb5c95b0a5b70cf743ab33511651dbd93d58ca166">GF2::PointPrimitive::GID</a></div><div class="ttdoc">Group ID. Should match LinePrimitive::GID and PlanePrimitive::GID (not the actual enum value...</div><div class="ttdef"><b>Definition:</b> <a href="globfit2_2primitives_2point_primitive_8h_source.html#l00019">pointPrimitive.h:19</a></div></div>
<div class="ttc" id="scale__optimization_8m_html_aa3bc9f08cad6c0b386cc994140e1ce2e"><div class="ttname"><a href="scale__optimization_8m.html#aa3bc9f08cad6c0b386cc994140e1ce2e">size</a></div><div class="ttdeci">size(unique(A,'rows')) subplot(121) hist(qo</div></div>
<div class="ttc" id="function__handle_8m_html_a03d2a3685385f82943527be28e035ad9"><div class="ttname"><a href="function__handle_8m.html#a03d2a3685385f82943527be28e035ad9">path</a></div><div class="ttdeci">function it is only possible to succesfully evaluate the resulting handle when the function the handle refers to was on the MATLAB search at the time the handle was created To create valid handles to arbitrarty functions possibly not on the search path</div><div class="ttdef"><b>Definition:</b> <a href="function__handle_8m_source.html#l00001">function_handle.m:1</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 5 2014 11:33:03 for globOpt by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
